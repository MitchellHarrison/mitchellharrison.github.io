{
  "hash": "33c17bcf5edc5f1b1d8007a8b5346a97",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Campus Pride Index | TidyTutorial\"\nauthor: \"Mitch Harrison\"\ncategories:\n  - \"Data Viz\"\nimage: \"../../images/thumbnails/projects/tidytuesday/06112024.jpg\"\n---\n\n\n# Introduction\n\nIn celebration of Pride Month, this week's\n[TidyTuesday](https://github.com/rfordatascience/tidytuesday/tree/master/data/2024/2024-06-11)\nprovides data from the [Campus Pride Index](https://www.campusprideindex.org), \nwhich measures the safety and inclusivity of LGBTQ+ programs across universities \nin the United States.\n\nEach university is binned into one or more categories (e.g., military colleges,\nprivate/public, and others). What feels natural to me is to see how the Campus\nPride Index compares across some of these categories. A proportionate stacked\nbar chart (where each bar has height equal to 1) is one option, but I would\nalso like to see which types of universities are most common. If there are some\ncategories with worse scores but with much smaller sample sizes, that would be\nhelpful to know. So we'll use a stacked bar, but not normalize the bar so we\ncan also see how common each type is. Also bear in mind that a single university\ncan (and often does) fall into multiple categories. \n\nLet's set some global settings so I don't have to worry about aspect ratio or\nother trivialities while we work.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nknitr::opts_chunk$set(\n  fig.width = 10,        \n  fig.asp = 0.618,      # the golden ratio\n  fig.align = \"center\"  # center align figures\n)\n```\n:::\n\n\n# Data Wrangling\n\nTime to load the data.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(gglgbtq)\nlibrary(ggchicklet)\nlibrary(ggthemes)\nlibrary(DT)\n\n# load the data ----------------------------------------------------------------\n\npride_schools <- read_csv(paste0(\n  \"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/\",\n  \"2024/2024-06-11/pride_index.csv\"\n))\n\npride_tags <- read_csv(paste0(\n  \"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/\",\n  \"2024/2024-06-11/pride_index_tags.csv\"\n))\n\ndatatable(left_join(pride_schools, pride_tags))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-4d2597d8f41336ee078d\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-4d2597d8f41336ee078d\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",\"57\",\"58\",\"59\",\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"70\",\"71\",\"72\",\"73\",\"74\",\"75\",\"76\",\"77\",\"78\",\"79\",\"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",\"87\",\"88\",\"89\",\"90\",\"91\",\"92\",\"93\",\"94\",\"95\",\"96\",\"97\",\"98\",\"99\",\"100\",\"101\",\"102\",\"103\",\"104\",\"105\",\"106\",\"107\",\"108\",\"109\",\"110\",\"111\",\"112\",\"113\",\"114\",\"115\",\"116\",\"117\",\"118\",\"119\",\"120\",\"121\",\"122\",\"123\",\"124\",\"125\",\"126\",\"127\",\"128\",\"129\",\"130\",\"131\",\"132\",\"133\",\"134\",\"135\",\"136\",\"137\",\"138\",\"139\",\"140\",\"141\",\"142\",\"143\",\"144\",\"145\",\"146\",\"147\",\"148\",\"149\",\"150\",\"151\",\"152\",\"153\",\"154\",\"155\",\"156\",\"157\",\"158\",\"159\",\"160\",\"161\",\"162\",\"163\",\"164\",\"165\",\"166\",\"167\",\"168\",\"169\",\"170\",\"171\",\"172\",\"173\",\"174\",\"175\",\"176\",\"177\",\"178\",\"179\",\"180\",\"181\",\"182\",\"183\",\"184\",\"185\",\"186\",\"187\",\"188\",\"189\",\"190\",\"191\",\"192\",\"193\",\"194\",\"195\",\"196\",\"197\",\"198\",\"199\",\"200\",\"201\",\"202\",\"203\",\"204\",\"205\",\"206\",\"207\",\"208\",\"209\",\"210\",\"211\",\"212\",\"213\",\"214\",\"215\",\"216\",\"217\",\"218\",\"219\",\"220\",\"221\",\"222\",\"223\",\"224\",\"225\",\"226\",\"227\",\"228\",\"229\",\"230\",\"231\",\"232\",\"233\",\"234\",\"235\",\"236\",\"237\",\"238\"],[\"University of Maryland, College Park\",\"University of Michigan-Dearborn\",\"SUNY Westchester Community College\",\"University at Buffalo\",\"Slippery Rock University\",\"Emory University\",\"Washington State University\",\"Davidson College\",\"Virginia Commonwealth University\",\"Northern Arizona University\",\"California State University, Long Beach or Long Beach State\",\"University of La Verne\",\"Rutgers, The State University of New Jersey-New Brunswick\",\"Gettysburg College\",\"Northern Illinois University\",\"Trinity College\",\"Augsburg University\",\"Ithaca College\",\"Portland State University\",\"Northwestern University\",\"University of Colorado at Boulder\",\"Northeastern Illinois University\",\"Elon University\",\"Bridgewater State University\",\"New Mexico State University\",\"University of Richmond\",\"Tufts University\",\"University of Nebraska at Omaha\",\"Youngstown State University\",\"University of Massachusetts, Amherst\",\"West Virginia University\",\"Virginia State University\",\"Kansas State University\",\"Bentley University\",\"Knox College\",\"Oakland University\",\"Union College\",\"Montana State University-Bozeman\",\"Syracuse University\",\"California State University, Northridge\",\"SUNY Oneonta\",\"Montclair State University\",\"University of New Haven\",\"University of Wisconsin\",\"Lehigh University\",\"George Mason University\",\"University of Houston\",\"William &amp; Mary\",\"College of Staten Island/CUNY\",\"Virginia Tech\",\"Washington University in St. Louis\",\"Eastern Michigan University\",\"University of Vermont\",\"MIT\",\"University of Minnesota, Morris\",\"Kalamazoo College\",\"Pace University\",\"University of Maryland, Baltimore County\",\"The University of Alabama\",\"Michigan State University\",\"The Evergreen State College\",\"Napa Valley College\",\"University of Tennessee\",\"University of Missouri-Kansas City\",\"Clark University\",\"Roger Williams University\",\"University of Colorado at Colorado Springs\",\"The Pennsylvania State University\",\"Emporia State University\",\"Indiana University, Bloomington\",\"Lawrence University\",\"Macalester College\",\"University of Missouri - St. Louis\",\"San Diego State University\",\"Appalachian State University\",\"University of Wisconsin - Superior\",\"Centre College\",\"University of Wisconsin - Eau Claire\",\"Rhodes College\",\"California State University, Chico\",\"Hofstra University\",\"University of Rochester\",\"University California, Irvine\",\"Washington College\",\"Illinois State University\",\"University of Miami\",\"University of Kentucky\",\"University of Wisconsin - Oshkosh\",\"Oregon State University\",\"North Dakota State University\",\"University at Albany - SUNY\",\"Michigan Technological University\",\"Colby College\",\"Northern Kentucky University\",\"Eckerd College\",\"Guilford College\",\"University of North Dakota\",\"University of Wisconsin - Green Bay\",\"Georgia College &amp; State University\",\"University of Pittsburgh at Bradford\",\"University of Kansas\",\"Baldwin Wallace University\",\"Rochester Institute of Technology\",\"University of Maine at Machias\",\"University of Wisconsin - Whitewater\",\"San Francisco State University\",\"Swarthmore College\",\"University of Texas at Dallas\",\"Red Rocks Community College\",\"Colgate University\",\"Bard College at Simon's Rock\",\"Kent State University\",\"Purdue University\",\"Kenyon College\",\"Widener University\",\"College of Wooster\",\"University of Wisconsin - Milwaukee\",\"University of Maine at Farmington\",\"St. John's College, Annapolis\",\"Drexel University\",\"Southern Methodist University\",\"Earlham College\",\"Southern Illinois University Carbondale\",\"University of Louisville\",\"Wichita State University\",\"SUNY ROCKLAND COMMUNITY COLLEGE\",\"Adelphi University\",\"Hobart and William Smith Colleges\",\"University of Illinois Chicago\",\"Metropolitan State University of Denver\",\"Montserrat College of Art\",\"Harvard College\",\"Cleveland State University\",\"University of Mount Union\",\"University of Virginia\",\"Gonzaga University\",\"James Madison University\",\"University of the Arts\",\"Stevens Institute of Technology\",\"Towson University\",\"Florida International University\",\"Antioch College\",\"Millersville University of Pennsylvania\",\"Mars Hill University\",\"Kean University\",\"The University of Findlay\",\"Fort Lewis College\",\"Southwestern University\",\"Lebanon Valley College\",\"University of New Hampshire-Main Campus\",\"Mohawk Valley Community College\",\"Bryant University\",\"Emerson College\",\"Manhattan School of Music\",\"Eastern Mennonite University\",\"Tidewater Community College\",\"Art Academy of Cincinnati\",\"Joliet Junior College\",\"University of Mary Washington\",\"Gwynedd Mercy University\",\"Colorado College\",\"University of Puget Sound\",\"Virginia Wesleyan University\",\"Fitchburg State University\",\"Juniata College\",\"University of Michigan-Ann Arbor\",\"Worcester State University\",\"Regis College\",\"West Chester University of Pennsylvania\",\"William Paterson University of New Jersey\",\"Gallaudet University\",\"Whitman College\",\"University of Wisconsin-Stevens Point\",\"Georgia Southern University\",\"Susquehanna University\",\"Dominican University of California\",\"Texas State University\",\"Skyline College\",\"Salt Lake Community College\",\"Catawba College\",\"Nazareth College\",\"Rhode Island College\",\"Big Sandy Community and Technical College\",\"Dutchess Community College\",\"California State Polytechnic University-Pomona\",\"Diablo Valley College\",\"Point Park University\",\"Bergen Community College\",\"Miami University-Oxford\",\"Butte College\",\"Wheaton College\",\"University of Oklahoma-Norman Campus\",\"Norco College\",\"Milwaukee Institute of Art &amp; Design\",\"Allegheny College\",\"Ramapo College of New Jersey\",\"Drew University\",\"Dakota State University\",\"Randolph College\",\"Otis College of Art and Design\",\"Dickinson College\",\"University of Northern Colorado\",\"University of North Carolina at Charlotte\",\"University of Nebraska at Kearney\",\"California State University-Bakersfield\",\"Suffolk University\",\"Wayne State University\",\"Western Colorado University\",\"Wentworth Institute of Technology\",\"Sacred Heart University\",\"Henry Ford Community College\",\"Xavier University\",\"Haverford College\",\"The College of Idaho\",\"University of Central Arkansas\",\"Camden County College\",\"Western Kentucky University\",\"University of Pittsburgh-Main Campus\",\"Binghamton University SUNY\",\"Stockton University\",\"Kutztown University\",\"East Carolina University\",\"Southern New Hampshire University\",\"Cuyahoga Community College Metro Campus\",\"Cuyahoga Community College Western Campus\",\"Cuyahoga Community College Eastern Campus\",\"Cuyahoga Community College Westshore Campus\",\"Ferris State University\",\"University of Toledo\",\"Bates College\",\"Missouri Science &amp; Technology\",\"Forsyth Technical Community College\",\"Woodbury University\",\"University of Texas Arlington\",\"University of Arkansas at Little Rock\",\"Linfield University\",\"Bluegrass Community &amp; Technical College (BCTC)\",\"Hartwick College\"],[\"College Park, MD\",\"Dearborn, MI\",\"Valhalla, NY\",\"Buffalo, NY\",\"Slippery Rock, PA\",\"Atlanta, GA\",\"Pullman, WA\",\"Davidson, NC\",\"Richmond, VA\",\"Flagstaff, AZ\",\"Long Beach, CA\",\"La Verne, CA\",\"New Brunswick, NJ\",\"Gettysburg, PA\",\"DeKalb, IL\",\"Hartford, CT\",\"Minneapolis, MN\",\"Ithaca, NY\",\"Portland, OR\",\"Evanston, IL\",\"Boulder, CO\",\"Chicago, IL\",\"Elon, NC\",\"Bridgewater, MA\",\"Las Cruces, NM\",\"Richmond, VA\",\"Medford, MA\",\"Omaha, NE\",\"youngstown, OH\",\"Amherst, MA\",\"Morgantown, WV\",\"Virginia State University, VA\",\"Manhattan, KS\",\"Waltham, MA\",\"Galesburg, IL\",\"Rochester, MI\",\"Schenectady, NY\",\"Bozeman, MT\",\"Syracuse, NY\",\"Northridge, CA\",\"Oneonta, NY, NY\",\"Montclair, NJ\",\"West Haven, CT\",\"Madison, WI\",\"Bethlehem, PA\",\"Fairfax, VA\",\"Houston, TX\",\"Williamsburg, VA\",\"Staten Island, NY\",\"Blacksburg, VA\",\"St. Louis, MO\",\"Ypsilanti, MI\",\"Burlington, VT\",\"Cambridge, MA\",\"Morris, MN\",\"Kalamazoo, MI\",\"New York, NY\",\"Baltimore, MD\",\"Tuscaloosa, AL\",\"East Lansing, MI\",\"Olympia, WA\",\"Napa, CA\",\"KNoxville, TN\",\"Kansas City, MO\",\"Worcester, MA\",\"Bristol, RI\",\"Colorado Springs, CO\",\"University Park, PA\",\"Emporia, KS\",\"Bloomington, IN\",\"Appleton, WI\",\"Saint Paul, MN\",\"Saint Louis, MO\",\"San Diego, CA\",\"Boone, NC\",\"Superior, WI\",\"Danville, KY\",\"Eau Claire, WI\",\"Memphis, TN\",\"Chico, CA\",\"Hempstead, NY\",\"Rochester, NY\",\"Irvine, CA\",\"Chestertown, MD\",\"Normal, IL\",\"Coral Gables, FL\",\"Lexington, KY\",\"Oshkosh, WI\",\"Corvallis, OR\",\"Fargo, ND\",\"Albany, NY\",\"Houghton, MI\",\"Waterville, ME\",\"Highland Heights, KY\",\"St. Petersburg, FL\",\"Greensboro, NC\",\"Grand Forks, ND\",\"Green Bay, WI\",\"Milledgeville, GA\",\"Bradford, PA\",\"Lawrence, KS\",\"Berea, OH\",\"Rochester, NY\",\"Machias, ME\",\"Whitewater, WI\",\"San Francisco, CA\",\"Swarrthmore, PA\",\"Richardson, TX\",\"Lakewood, CO\",\"Hamilton, NY\",\"Great Barrington, MA\",\"Kent, OH\",\"West Lafayette, IN\",\"Gambier, OH\",\"Chester, PA\",\"Wooster, OH\",\"Milwaukee, WI, WI\",\"Farmington, ME\",\"Annapolis, MD\",\"Philadelphia, PA\",\"DALLAS, TX\",\"Richmond, IN\",\"Carbondale, IL\",\"Louisville, KY\",\"Wichita, KS\",\"SUFFERN, NY\",\"Garden City, NY\",\"Geneva, NY\",\"Chicago, IL\",\"Denver, CO\",\"Beverly, MA\",\"Cambridge, MA\",\"Cleveland, OH\",\"Alliance, OH\",\"Charlottesville, VA\",\"Spokane, WA\",\"Harrisonburg, VA\",\"Philadelphia, PA\",\"Hoboken, NJ\",\"Towson, MD\",\"Miami, FL\",\"Yellow Springs, OH\",\"Millersville, PA\",\"Mars Hill, NC\",\"Union, NJ\",\"Findlay, OH\",\"Durango, CO\",\"Georgetown, TX\",\"Annville, PA\",\"Durham, NH\",\"Utica, NY\",\"Smithfield, RI\",\"Boston, MA\",\"New York, NY\",\"Harrisonburg, VA\",\"Norfolk, VA\",\"Cincinnati, OH\",\"Joliet, IL\",\"Fredericksburg, VA\",\"Gwynedd Valley, PA\",\"Colorado Springs, CO\",\"Tacoma, WA\",\"Virginia Beach, VA\",\"FITCHBURG, MA\",\"Huntingdon, PA\",\"Ann Arbor, MI\",\"Worcester, MA\",\"Weston, MA\",\"West Chester, PA\",\"Wayne, NJ\",\"Washington, DC\",\"Walla Walla, WA\",\"Stevens Point, WI\",\"Statesboro, GA\",\"Selinsgrove, PA\",\"San Rafael, CA\",\"San Marcos, TX\",\"San Bruno, CA\",\"Salt Lake City, UT\",\"Salisbury, NC\",\"Rochester, NY\",\"Providence, RI\",\"Prestonsburg, KY\",\"Poughkeepsie, NY\",\"Pomona, CA\",\"Pleasant Hill, CA\",\"Pittsburgh, PA\",\"Paramus, NJ\",\"Oxford, OH\",\"Oroville, CA\",\"Norton, MA\",\"Norman, OK\",\"Norco, CA\",\"Milwaukee, WI\",\"Meadville, PA\",\"Mahwah, NJ\",\"Madison, NJ\",\"Madison, SD\",\"Lynchburg, VA\",\"Los Angeles, CA\",\"Carlisle, PA\",\"Greeley, CO\",\"Charlotte, NC\",\"Kearney, NE\",\"Bakersfield, CA\",\"Boston, MA\",\"Detroit, MI\",\"Gunnison, CO\",\"Boston, MA\",\"Fairfield, CT\",\"Dearborn, MI\",\"Cincinnati, OH\",\"Haverford, PA\",\"Caldwell, ID\",\"Conway, AR\",\"Blackwood, NJ\",\"Bowling Green, KY\",\"Pittsburgh, PA\",\"Binghamton, NY\",\"Galloway, NJ\",\"Kutztown, PA\",\"Greenville, NC\",\"Manchester, NH\",\"Cleveland, OH\",\"Parma, OH\",\"Highland Hills, OH\",\"Westlake, OH\",\"Big Rapids, MI\",\"Toledo, OH\",\"Lewiston, ME\",\"Rolla, MO\",\"Winston-Salem, NC\",\"Burbank, CA\",\"Arlington, TX\",\"Little Rock, AR\",\"McMinnville, OR\",\"Lexington, KY\",\"Oneonta, NY\"],[5,3,4,3.5,4,4.5,5,4,4.5,4.5,4.5,2.5,5,4.5,5,5,5,5,5,4,5,2.5,5,4.5,4.5,4.5,5,4.5,3,5,4.5,4,5,4.5,4,5,5,4,4,4.5,4,5,4,4.5,5,5,4.5,4.5,3.5,4,5,4.5,5,4.5,4,4,5,3,4.5,4,3.5,4,4,4.5,4.5,4,4.5,5,4,5,4,5,4,5,4.5,3.5,3,5,4.5,4,5,5,3.5,3.5,4,4,5,4.5,4,3.5,5,3.5,3.5,5,3,5,4,5,3,3.5,4.5,4,4,4.5,4,3.5,4,5,3.5,4.5,4.5,5,5,4,4,4,4.5,4.5,3.5,3.5,4.5,4.5,5,5,4,3,5,4.5,5,4.5,4,4.5,4,3,4.5,4.5,4,3,4,5,4.5,4.5,3.5,3,3,3.5,4,3.5,4,4.5,2,2,4,3,3,1.5,2.5,2.5,4,3,2.5,4,5,4.5,3,5,4.5,3.5,4,4.5,3.5,3,4.5,3.5,3,3,3.5,3,4,2,4,2.5,2.5,3.5,3.5,1.5,3,4.5,4.5,3.5,4.5,4,3,4,4.5,4,4.5,2,3,4,4.5,5,3.5,5,3.5,3.5,4.5,3,4.5,4,2.5,3,3,2.5,2,2.5,4.5,5,4.5,4.5,4,4.5,3.5,3,3,3,3,3.5,4,3.5,3,4,3,5,2.5,3,4,3.5],[37952,9000,13000,29850,8500,14769,19446,1850,31500,29000,36846,8600,48000,2400,16234,2159,3537,6000,25000,21215,30000,10275,6500,10000,16765,3890,11926,15500,11171,28500,34000,3400,20000,4100,1300,17170,2150,16902,14422,36000,5514,21000,6500,43193,6950,39150,40000,8500,10185,31000,14000,10500,11000,11000,1900,1458,12835,14000,38000,50000,2100,5000,26000,16375,2300,4000,12017,46184,6100,49695,1500,2094,8381,32000,20436,2500,1450,11000,2000,16251,9533,10182,29000,1420,20000,16397,30000,14000,28000,14500,18000,7238,2299,16000,1950,1200,14172,9780,6800,1500,28000,3500,18897,800,12000,29905,1699,27642,4297,3228,400,28000,49000,1730,6300,2000,23829,1800,450,14000,12373,1200,14000,22000,15000,7500,7859,2396,30539,21000,370,6500,16000,2100,22000,7450,22000,1900,6825,16517,34000,125,7500,1000,11610,3500,3443,1500,1651,13000,5000,3287,3783,1035,1000,7028,260,10000,4000,1724,2300,2200,1750,3500,1600,46000,4039,3014,17552,8000,1454,1493,8900,21000,2300,1531,38000,5599,16158,1200,3000,5776,1193,6500,23717,7854,4000,14585,24000,4816,1700,25829,10000,900,1800,5041,2100,3100,650,1100,2400,11114,22968,6232,7000,7288,26251,3040,5000,10216,13000,6738,1400,987,12000,6425,13228,25069,18000,9080,8000,29131,3400,3094,7000,3394,2183,10222,23000,1800,9000,2890,1132,47000,6712,1750,14500,1100],[\"large urban city\",\"medium city\",\"very small town\",\"medium city\",\"rural community\",\"large urban city\",\"small town\",\"small town\",\"medium city\",\"small city\",\"medium city\",\"small city\",\"large urban city\",\"very small town\",\"small city\",\"medium city\",\"large urban city\",\"small city\",\"large urban city\",\"small city\",\"small city\",\"large urban city\",\"small town\",\"small city\",\"medium city\",\"medium city\",\"small city\",\"large urban city\",\"medium city\",\"small town\",\"small city\",\"small town\",\"small city\",\"small city\",\"small city\",\"small city\",\"small city\",\"small city\",\"medium city\",\"large urban city\",\"small town\",\"small city\",\"small city\",\"medium city\",\"small city\",\"small city\",\"large urban city\",\"small town\",\"large urban city\",\"small city\",\"medium city\",\"small city\",\"small city\",\"medium city\",\"very small town\",\"medium city\",\"large urban city\",\"large urban city\",\"small city\",\"small city\",\"small city\",\"small city\",\"medium city\",\"large urban city\",\"medium city\",\"small town\",\"medium city\",\"small town\",\"small city\",\"small city\",\"small city\",\"large urban city\",\"large urban city\",\"large urban city\",\"small town\",\"small city\",\"small town\",\"small city\",\"large urban city\",\"medium city\",\"medium city\",\"medium city\",\"medium city\",\"very small town\",\"small city\",\"large urban city\",\"medium city\",\"small city\",\"small city\",\"medium city\",\"medium city\",\"rural community\",\"small town\",\"medium city\",\"medium city\",\"medium city\",\"small city\",\"medium city\",\"small town\",\"rural community\",\"small city\",\"small town\",\"medium city\",\"rural community\",\"small town\",\"large urban city\",\"large urban city\",\"medium city\",\"medium city\",\"rural community\",\"very small town\",\"small city\",\"small city\",\"rural community\",\"small city\",\"small city\",\"large urban city\",\"very small town\",\"small city\",\"large urban city\",\"large urban city\",\"small city\",\"small city\",\"large urban city\",\"large urban city\",\"small town\",\"small town\",\"rural community\",\"large urban city\",\"large urban city\",\"small city\",\"medium city\",\"medium city\",\"small town\",\"small town\",\"medium city\",\"small city\",\"large urban city\",\"small city\",\"large urban city\",\"large urban city\",\"rural community\",\"small city\",\"rural community\",\"small city\",\"small city\",\"small town\",\"small city\",\"rural community\",\"small town\",\"small city\",\"small town\",\"large urban city\",\"large urban city\",\"small city\",\"large urban city\",\"medium city\",\"small city\",\"small city\",\"small town\",\"large urban city\",\"medium city\",\"large urban city\",\"small city\",\"very small town\",\"medium city\",\"medium city\",\"rural community\",\"small town\",\"small city\",\"large urban city\",\"small city\",\"small city\",\"small town\",\"very small town\",\"small city\",\"small city\",\"small city\",\"large urban city\",\"rural community\",\"small town\",\"medium city\",\"rural community\",\"medium city\",\"medium city\",\"small city\",\"medium city\",\"large urban city\",\"small town\",\"small town\",\"small town\",\"medium city\",\"small town\",\"large urban city\",\"small town\",\"small city\",\"small town\",\"very small town\",\"rural community\",\"large urban city\",\"small town\",\"medium city\",\"large urban city\",\"small city\",\"medium city\",\"large urban city\",\"large urban city\",\"very small town\",\"large urban city\",\"small city\",\"small city\",\"medium city\",\"small city\",\"very small town\",\"small city\",\"rural community\",\"small city\",\"medium city\",\"small city\",\"small city\",\"very small town\",\"small city\",\"medium city\",\"medium city\",\"small city\",\"small town\",\"small city\",\"small town\",\"medium city\",\"small city\",\"small town\",\"medium city\",\"medium city\",\"medium city\",\"medium city\",\"small city\",\"medium city\",\"small town\"],[true,true,true,true,true,null,true,null,true,true,true,null,true,null,true,null,null,null,true,null,true,true,null,true,true,null,null,true,true,null,true,true,true,null,null,true,null,true,null,true,true,true,null,true,null,true,true,true,true,true,null,true,true,null,true,null,null,true,true,true,true,null,true,true,null,null,true,null,true,true,null,null,true,true,true,true,null,true,null,true,null,null,null,null,true,null,true,true,true,true,true,true,null,true,null,null,true,true,true,null,true,null,null,true,true,true,null,true,null,null,null,true,true,null,null,null,true,true,null,null,null,null,true,true,true,null,null,null,true,true,null,null,true,null,true,null,true,null,null,true,null,null,true,null,true,null,true,null,null,true,true,null,null,null,null,null,null,null,true,null,null,null,null,true,null,true,true,null,true,true,null,null,true,true,null,null,null,true,null,null,null,true,null,null,true,null,null,null,true,null,null,true,null,null,null,true,null,true,null,null,null,true,true,true,true,null,true,true,null,null,null,null,null,null,true,null,true,null,null,true,true,true,null,null,null,null,null,true,true,null,true,null,null,true,true,null,null,null],[null,null,null,null,null,true,null,true,null,null,null,true,null,true,null,true,true,true,null,true,null,null,true,null,null,true,true,null,null,null,null,null,null,true,true,null,true,null,true,null,null,null,true,null,true,null,null,null,null,null,true,null,null,true,null,true,true,null,null,null,null,null,null,null,true,true,null,null,null,null,true,true,null,null,null,null,true,null,true,null,null,true,null,null,null,true,null,null,null,null,null,null,null,null,true,true,null,null,null,null,null,true,true,null,null,null,null,null,null,true,true,null,null,true,true,true,null,null,true,true,true,true,null,null,null,null,true,true,null,null,true,true,null,true,null,true,null,true,true,null,null,true,null,true,null,true,null,true,true,null,null,true,true,true,true,null,true,null,null,true,true,true,true,null,true,null,null,true,null,null,true,true,null,null,true,true,null,null,null,true,true,null,null,null,null,null,true,null,null,null,true,null,null,true,true,null,true,null,null,true,true,null,null,null,null,true,null,null,true,true,null,true,true,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,true,null,null,true,null,true],[true,true,null,true,true,true,true,null,true,true,true,true,true,null,true,null,true,null,true,true,true,null,null,null,true,null,true,true,null,true,true,true,true,true,null,true,null,true,true,true,null,true,null,true,true,true,true,true,true,true,true,true,true,true,null,null,true,true,true,true,null,null,true,true,true,null,true,true,true,true,null,null,true,true,null,null,null,true,null,null,true,true,true,null,true,true,true,null,true,true,true,true,null,null,null,null,true,true,null,null,true,null,true,null,null,null,null,true,null,null,null,true,true,null,true,null,true,null,null,true,true,null,true,true,null,null,null,null,true,null,null,null,true,null,true,null,true,null,true,true,true,null,null,null,true,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,true,true,null,true,null,null,true,null,null,true,null,null,null,true,null,null,null,null,null,true,null,true,null,null,true,null,null,null,null,null,true,null,null,null,true,true,true,null,true,true,null,null,true,null,true,null,null,true,null,true,true,true,true,true,true,null,null,null,null,null,null,true,null,true,null,null,true,true,null,null,null],[null,true,null,true,true,null,null,null,true,true,true,true,true,null,true,true,true,true,null,null,true,true,true,true,true,true,null,true,true,null,true,true,true,true,null,true,null,true,true,true,null,true,true,true,true,null,true,null,true,true,true,true,true,true,null,null,true,true,true,null,true,null,null,null,true,true,true,null,true,null,null,null,true,true,true,null,null,true,null,true,null,true,true,null,true,true,true,true,true,null,null,true,null,true,null,true,true,true,true,null,null,null,true,null,true,true,null,true,null,null,null,true,true,null,null,null,true,null,null,true,null,true,true,true,null,null,null,null,true,true,null,null,true,true,null,true,true,true,true,true,null,null,true,null,true,true,null,null,true,true,null,true,true,null,true,null,true,null,null,null,null,null,true,true,null,true,true,true,null,true,true,null,true,null,null,true,null,null,null,null,true,true,null,null,true,null,true,null,null,null,null,true,null,null,null,true,null,true,null,null,null,true,true,true,true,true,true,true,true,true,null,true,null,null,true,null,null,null,null,true,true,null,null,null,null,null,null,true,true,null,true,null,true,true,true,null,null,null],[null,true,null,true,true,null,null,true,true,true,true,true,true,true,true,true,true,true,null,null,true,true,true,true,true,true,null,true,null,null,true,true,true,true,null,true,true,true,true,true,null,true,null,true,true,null,true,null,true,true,true,true,true,true,true,null,true,true,true,null,true,null,null,null,true,true,true,null,true,null,true,true,true,true,null,true,true,true,true,true,null,true,true,null,true,true,true,true,true,null,null,true,null,true,null,true,true,true,true,true,null,null,true,true,true,true,null,true,null,true,true,true,true,true,null,true,true,true,null,true,null,true,true,true,null,null,null,true,true,true,true,null,true,true,null,true,null,null,true,true,null,true,true,null,true,true,null,true,true,true,null,true,true,null,true,null,true,null,null,null,true,null,true,true,true,true,true,true,null,true,true,true,true,null,true,null,null,null,null,true,true,true,null,null,null,null,true,null,null,null,true,true,null,true,true,true,null,true,null,null,true,true,true,true,true,true,true,true,true,true,null,true,null,null,true,null,null,null,null,true,true,null,true,null,null,null,null,null,true,true,true,null,true,true,true,null,null,true],[null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,true,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,true,null,null,null,true,true,null,true,null,true,null,true,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,true,null,null,null,null,null,null,null,true,true,true,true,null,null,null,null,true,null,null,null,null,true,null],[true,null,null,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,null,true,true,true,true,true,true,true,null,true,true,true,true,true,true,true,null,true,true,null,true,true,null,true,true,true,true,true,true,true,null,true,true,true,true,true,true,null,true,true,null,true,null,true,true,true,null,null,true,true,true,null,true,null,null,true,true,true,true,null,true,true,null,true,true,true,null,true,true,null,null,null,true,true,true,true,true,true,null,true,null,true,true,true,true,null,true,null,true,true,true,true,true,true,true,null,true,true,true,true,null,true,true,null,null,null,true,true,null,true,true,null,true,true,true,null,true,true,true,null,true,null,true,true,true,null,true,true,true,null,true,true,null,true,null,null,null,null,null,true,null,true,true,true,true,true,true,true,true,true,true,true,true,true,null,null,null,null,true,true,true,null,null,null,null,true,null,true,null,true,true,null,true,true,true,null,true,null,true,true,true,true,true,true,true,true,true,true,true,null,true,true,null,true,null,true,null,null,true,true,true,true,null,null,null,null,true,null,true,true,null,true,true,true,true,null,true],[null,true,true,null,null,null,null,null,null,true,true,null,null,null,null,null,null,null,true,null,null,true,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,true,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,true,null,null,null,null,null,null,true,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,true,true,null,null,null,true,null,null,null,null,true,null,null,null,true,null,null,null,true,true,true,true,null,null,null,true,null,null,null,true,null,null,null],[null,null,null,null,true,true,null,true,null,null,null,null,null,true,null,true,true,true,null,null,null,null,true,true,null,true,null,null,null,null,null,null,null,null,true,null,true,null,null,null,null,true,null,null,null,null,null,true,true,null,null,null,null,null,true,true,true,true,null,null,true,null,null,null,true,true,null,null,null,null,true,true,null,null,null,null,true,true,true,null,null,null,null,true,null,null,null,null,null,null,null,null,true,null,true,true,null,true,true,null,null,null,true,true,null,null,true,null,null,true,true,null,null,true,null,true,null,true,true,null,null,true,null,null,null,null,null,true,null,null,true,true,null,null,null,null,null,null,null,null,null,true,null,true,null,true,true,true,true,null,null,null,true,null,true,null,null,null,true,null,null,true,true,true,true,null,null,null,null,null,true,true,true,null,true,true,null,null,null,true,true,true,null,null,null,null,true,null,null,null,true,true,null,null,true,true,true,null,true,null,true,null,null,null,null,null,null,true,null,null,true,null,true,true,null,null,null,null,null,true,true,null,null,null,null,null,null,null,null,true,null,null,true,null,true,true,null,true],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,true,null,null,null,null,null],[null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,true,null,null,null,null,null,null,null,null,null,null,null,true,null,true,null,null,null,null,null,null,null,true,null,null,null,true,true,null,null,null,null,null,true,null,null,null,null,true,null,null,true,null,true,null,null,true,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],[null,null,true,null,null,null,null,null,null,true,true,true,null,null,null,null,null,null,true,null,null,true,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,true,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,true,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,true,null,null,null,null,null,null,null,null,null,null,true,null,null,null,true,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,true,true,null,null,null,true,null,null,true,null,null,null,null,true,null,null,null,null,null,true,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,true,null,null,null,null],[true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null],[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,true,null,null,null,null,null,null,null,null,null,null,true,null,null,true,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>campus_name<\\/th>\\n      <th>campus_location<\\/th>\\n      <th>rating<\\/th>\\n      <th>students<\\/th>\\n      <th>community_type<\\/th>\\n      <th>public<\\/th>\\n      <th>private<\\/th>\\n      <th>doctoral<\\/th>\\n      <th>masters<\\/th>\\n      <th>baccalaureate<\\/th>\\n      <th>community<\\/th>\\n      <th>residential<\\/th>\\n      <th>nonresidential<\\/th>\\n      <th>liberal_arts<\\/th>\\n      <th>technical<\\/th>\\n      <th>religious<\\/th>\\n      <th>military<\\/th>\\n      <th>hbcu<\\/th>\\n      <th>hispanic_serving<\\/th>\\n      <th>aapi_serving<\\/th>\\n      <th>other_minority_serving<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"className\":\"dt-right\",\"targets\":[3,4]},{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"campus_name\",\"targets\":1},{\"name\":\"campus_location\",\"targets\":2},{\"name\":\"rating\",\"targets\":3},{\"name\":\"students\",\"targets\":4},{\"name\":\"community_type\",\"targets\":5},{\"name\":\"public\",\"targets\":6},{\"name\":\"private\",\"targets\":7},{\"name\":\"doctoral\",\"targets\":8},{\"name\":\"masters\",\"targets\":9},{\"name\":\"baccalaureate\",\"targets\":10},{\"name\":\"community\",\"targets\":11},{\"name\":\"residential\",\"targets\":12},{\"name\":\"nonresidential\",\"targets\":13},{\"name\":\"liberal_arts\",\"targets\":14},{\"name\":\"technical\",\"targets\":15},{\"name\":\"religious\",\"targets\":16},{\"name\":\"military\",\"targets\":17},{\"name\":\"hbcu\",\"targets\":18},{\"name\":\"hispanic_serving\",\"targets\":19},{\"name\":\"aapi_serving\",\"targets\":20},{\"name\":\"other_minority_serving\",\"targets\":21}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\nFirst, let's format the data for ease of plotting. Right now, each category has\nits own column, with `TRUE` or `NA` values, where `NA` means \"false\" for our\npurposes. But we want the type of school to be represented in a single column so\nwe can map that column to the color of the bars. To move multiple columns into a\nsingle one, we will **pivot** the data. Since we want to consolidate columns, we\nwill need to make our data *longer* (i.e., add more rows), where each university\nnow has multiple rows corresponding to `TRUE` or `FALSE`. Intuitively, to pivot\nthe data longer, we use the `pivot_longer` function. Notice that once the pivot\nis complete, we only want to keep the rows where the value is `TRUE`, since the\n`FALSE` rows are just saying that \"this university doesn't fall into this type,\"\nwhich is useless noise in our dataset.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# format data for plotting -----------------------------------------------------\n\nuni_types <- pride_schools |>\n  \n  # join both datasets into one\n  left_join(pride_tags) |>\n  \n  # select which columns we want to analyze along with their ratings\n  select(rating, public, private, community, liberal_arts, technical,\n         religious, military, hbcu, hispanic_serving, aapi_serving,\n         other_minority_serving) |> \n  \n  # replace NA with FALSE\n  mutate(across(everything(), ~ replace_na(., FALSE))) |>\n  \n  # do the pivot\n  pivot_longer(cols = !rating, names_to = \"type\") |>\n  \n  # drop the rows that don't apply\n  filter(value == TRUE) |>\n  \n  # clean up some strings for prettier plotting\n  mutate(\n    type = str_replace_all(type, \"_\", \" \"),\n    type = str_to_title(type),\n    type = str_replace(type, \"Aapi\", \"AAPI\")\n  )\n\ndatatable(uni_types)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"datatables html-widget html-fill-item\" id=\"htmlwidget-e9d576c151c9ca1d4609\" style=\"width:100%;height:auto;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-e9d576c151c9ca1d4609\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"10\",\"11\",\"12\",\"13\",\"14\",\"15\",\"16\",\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"24\",\"25\",\"26\",\"27\",\"28\",\"29\",\"30\",\"31\",\"32\",\"33\",\"34\",\"35\",\"36\",\"37\",\"38\",\"39\",\"40\",\"41\",\"42\",\"43\",\"44\",\"45\",\"46\",\"47\",\"48\",\"49\",\"50\",\"51\",\"52\",\"53\",\"54\",\"55\",\"56\",\"57\",\"58\",\"59\",\"60\",\"61\",\"62\",\"63\",\"64\",\"65\",\"66\",\"67\",\"68\",\"69\",\"70\",\"71\",\"72\",\"73\",\"74\",\"75\",\"76\",\"77\",\"78\",\"79\",\"80\",\"81\",\"82\",\"83\",\"84\",\"85\",\"86\",\"87\",\"88\",\"89\",\"90\",\"91\",\"92\",\"93\",\"94\",\"95\",\"96\",\"97\",\"98\",\"99\",\"100\",\"101\",\"102\",\"103\",\"104\",\"105\",\"106\",\"107\",\"108\",\"109\",\"110\",\"111\",\"112\",\"113\",\"114\",\"115\",\"116\",\"117\",\"118\",\"119\",\"120\",\"121\",\"122\",\"123\",\"124\",\"125\",\"126\",\"127\",\"128\",\"129\",\"130\",\"131\",\"132\",\"133\",\"134\",\"135\",\"136\",\"137\",\"138\",\"139\",\"140\",\"141\",\"142\",\"143\",\"144\",\"145\",\"146\",\"147\",\"148\",\"149\",\"150\",\"151\",\"152\",\"153\",\"154\",\"155\",\"156\",\"157\",\"158\",\"159\",\"160\",\"161\",\"162\",\"163\",\"164\",\"165\",\"166\",\"167\",\"168\",\"169\",\"170\",\"171\",\"172\",\"173\",\"174\",\"175\",\"176\",\"177\",\"178\",\"179\",\"180\",\"181\",\"182\",\"183\",\"184\",\"185\",\"186\",\"187\",\"188\",\"189\",\"190\",\"191\",\"192\",\"193\",\"194\",\"195\",\"196\",\"197\",\"198\",\"199\",\"200\",\"201\",\"202\",\"203\",\"204\",\"205\",\"206\",\"207\",\"208\",\"209\",\"210\",\"211\",\"212\",\"213\",\"214\",\"215\",\"216\",\"217\",\"218\",\"219\",\"220\",\"221\",\"222\",\"223\",\"224\",\"225\",\"226\",\"227\",\"228\",\"229\",\"230\",\"231\",\"232\",\"233\",\"234\",\"235\",\"236\",\"237\",\"238\",\"239\",\"240\",\"241\",\"242\",\"243\",\"244\",\"245\",\"246\",\"247\",\"248\",\"249\",\"250\",\"251\",\"252\",\"253\",\"254\",\"255\",\"256\",\"257\",\"258\",\"259\",\"260\",\"261\",\"262\",\"263\",\"264\",\"265\",\"266\",\"267\",\"268\",\"269\",\"270\",\"271\",\"272\",\"273\",\"274\",\"275\",\"276\",\"277\",\"278\",\"279\",\"280\",\"281\",\"282\",\"283\",\"284\",\"285\",\"286\",\"287\",\"288\",\"289\",\"290\",\"291\",\"292\",\"293\",\"294\",\"295\",\"296\",\"297\",\"298\",\"299\",\"300\",\"301\",\"302\",\"303\",\"304\",\"305\",\"306\",\"307\",\"308\",\"309\",\"310\",\"311\",\"312\",\"313\",\"314\",\"315\",\"316\",\"317\",\"318\",\"319\",\"320\",\"321\",\"322\",\"323\",\"324\",\"325\",\"326\",\"327\",\"328\",\"329\",\"330\",\"331\",\"332\",\"333\",\"334\",\"335\",\"336\",\"337\",\"338\",\"339\",\"340\",\"341\",\"342\",\"343\",\"344\",\"345\",\"346\",\"347\",\"348\",\"349\",\"350\",\"351\",\"352\",\"353\",\"354\",\"355\",\"356\",\"357\",\"358\",\"359\",\"360\",\"361\",\"362\",\"363\",\"364\",\"365\",\"366\",\"367\",\"368\",\"369\",\"370\",\"371\",\"372\",\"373\",\"374\",\"375\",\"376\",\"377\",\"378\",\"379\",\"380\",\"381\",\"382\",\"383\",\"384\"],[5,5,3,4,4,4,3.5,4,4,4.5,4.5,4.5,5,4,4,4.5,4.5,4.5,4.5,4.5,2.5,2.5,5,4.5,4.5,5,5,5,5,5,5,5,5,5,5,4,5,2.5,2.5,5,5,4.5,4.5,4.5,4.5,4.5,4.5,5,4.5,3,4.5,4,4,5,4.5,4,4,5,5,5,4,4,4.5,4.5,4.5,4,5,5,5,4,4.5,5,5,4.5,4.5,4.5,4.5,3.5,3.5,4,4,5,4.5,5,4.5,4.5,4,4,4,4,5,5,3,3,4.5,4,3.5,3.5,4,4,4.5,4.5,4.5,4,4,4.5,4,5,4,4,5,5,4,5,5,4.5,3.5,3,3,5,5,4.5,4.5,4.5,4,4,5,3.5,3.5,3.5,4,4,5,4.5,4,3.5,5,3.5,3.5,5,3,3,5,5,5,4,5,5,3,3,4.5,4,4,4,4,4.5,4.5,4,3.5,3.5,4,5,3.5,4.5,4.5,4.5,4.5,5,5,4,4,4,4,4,4.5,4.5,4.5,3.5,3.5,3.5,4.5,4.5,4.5,4.5,4.5,5,5,4,3,5,4.5,4.5,5,5,5,4.5,4.5,4,4,4.5,4.5,4,3,3,4.5,4.5,4.5,4,3,4,5,4.5,4.5,4.5,3.5,3,3,3,3,3,3.5,3.5,4,4,4,3.5,3.5,3.5,3.5,4,4,4,4.5,2,2,2,4,4,3,3,3,3,1.5,2.5,2.5,4,4,3,3,2.5,4,4,5,5,5,5,4.5,4.5,4.5,3,3,3,5,4.5,3.5,3.5,4,4.5,4.5,3.5,3.5,3.5,3,3,4.5,4.5,3.5,3,3,3,3,3.5,3,3,3,3,4,2,2,2,4,4,2.5,2.5,2.5,2.5,2.5,2.5,3.5,3.5,3.5,3.5,3.5,1.5,3,3,4.5,4.5,3.5,3.5,4.5,4.5,4,4,3,4,4.5,4.5,4,4,4,4.5,4.5,2,3,4,4,4.5,4.5,5,3.5,5,3.5,3.5,3.5,4.5,3,3,4.5,4.5,4,4,2.5,2.5,2.5,3,3,3,3,2.5,2,2.5,4.5,4.5,4.5,4,4,4.5,3.5,3,3,3,3,3.5,4,3.5,3,3,4,3,3,3,3,5,5,5,5,2.5,2.5,3,3,4,3.5,3.5],[\"Public\",\"AAPI Serving\",\"Public\",\"Public\",\"Community\",\"Hispanic Serving\",\"Public\",\"Public\",\"Liberal Arts\",\"Private\",\"Liberal Arts\",\"Religious\",\"Public\",\"Private\",\"Liberal Arts\",\"Public\",\"Public\",\"Hispanic Serving\",\"Public\",\"Hispanic Serving\",\"Private\",\"Hispanic Serving\",\"Public\",\"Private\",\"Liberal Arts\",\"Public\",\"Private\",\"Liberal Arts\",\"Private\",\"Liberal Arts\",\"Religious\",\"Private\",\"Liberal Arts\",\"Public\",\"Hispanic Serving\",\"Private\",\"Public\",\"Public\",\"Hispanic Serving\",\"Private\",\"Liberal Arts\",\"Public\",\"Liberal Arts\",\"Public\",\"Hispanic Serving\",\"Private\",\"Liberal Arts\",\"Private\",\"Public\",\"Public\",\"Public\",\"Public\",\"Hbcu\",\"Public\",\"Private\",\"Private\",\"Liberal Arts\",\"Public\",\"Private\",\"Liberal Arts\",\"Public\",\"Private\",\"Public\",\"Hispanic Serving\",\"AAPI Serving\",\"Public\",\"Public\",\"Liberal Arts\",\"Hispanic Serving\",\"Private\",\"Public\",\"Private\",\"Public\",\"Public\",\"Hispanic Serving\",\"Public\",\"Liberal Arts\",\"Public\",\"Liberal Arts\",\"Public\",\"Military\",\"Private\",\"Public\",\"Public\",\"Private\",\"Technical\",\"Public\",\"Liberal Arts\",\"Private\",\"Liberal Arts\",\"Private\",\"Liberal Arts\",\"Public\",\"Liberal Arts\",\"Public\",\"Public\",\"Public\",\"Liberal Arts\",\"Community\",\"Public\",\"Public\",\"Private\",\"Liberal Arts\",\"Private\",\"Liberal Arts\",\"Public\",\"Public\",\"Public\",\"Private\",\"Liberal Arts\",\"Private\",\"Liberal Arts\",\"Public\",\"Public\",\"Hispanic Serving\",\"Public\",\"Public\",\"Private\",\"Liberal Arts\",\"Public\",\"Liberal Arts\",\"Private\",\"Liberal Arts\",\"Religious\",\"Public\",\"Hispanic Serving\",\"Private\",\"Hispanic Serving\",\"AAPI Serving\",\"Liberal Arts\",\"Public\",\"Private\",\"Public\",\"Public\",\"Public\",\"Public\",\"Public\",\"Public\",\"Liberal Arts\",\"Public\",\"Private\",\"Liberal Arts\",\"Private\",\"Liberal Arts\",\"Religious\",\"Public\",\"Public\",\"Liberal Arts\",\"Public\",\"Liberal Arts\",\"Public\",\"Private\",\"Private\",\"Liberal Arts\",\"Technical\",\"Public\",\"Liberal Arts\",\"Public\",\"Public\",\"AAPI Serving\",\"Liberal Arts\",\"Public\",\"Community\",\"Private\",\"Liberal Arts\",\"Private\",\"Liberal Arts\",\"Public\",\"Public\",\"Private\",\"Liberal Arts\",\"Private\",\"Private\",\"Liberal Arts\",\"Public\",\"Public\",\"Liberal Arts\",\"Private\",\"Liberal Arts\",\"Private\",\"Private\",\"Religious\",\"Private\",\"Liberal Arts\",\"Religious\",\"Public\",\"Public\",\"Public\",\"Community\",\"Private\",\"Private\",\"Liberal Arts\",\"Public\",\"Hispanic Serving\",\"AAPI Serving\",\"Public\",\"Hispanic Serving\",\"Private\",\"Liberal Arts\",\"Private\",\"Liberal Arts\",\"Public\",\"Private\",\"Religious\",\"Public\",\"Private\",\"Religious\",\"Public\",\"Private\",\"Private\",\"Public\",\"Hispanic Serving\",\"Private\",\"Liberal Arts\",\"Public\",\"Private\",\"Liberal Arts\",\"Religious\",\"Public\",\"Hispanic Serving\",\"Private\",\"Liberal Arts\",\"Public\",\"Liberal Arts\",\"Other Minority Serving\",\"Private\",\"Liberal Arts\",\"Religious\",\"Hispanic Serving\",\"Private\",\"Liberal Arts\",\"Religious\",\"Public\",\"Public\",\"Community\",\"Private\",\"Private\",\"Liberal Arts\",\"Private\",\"Private\",\"Liberal Arts\",\"Religious\",\"Community\",\"Private\",\"Community\",\"Public\",\"Liberal Arts\",\"Private\",\"Religious\",\"Private\",\"Private\",\"Liberal Arts\",\"Private\",\"Liberal Arts\",\"Religious\",\"Other Minority Serving\",\"Public\",\"Liberal Arts\",\"Military\",\"Private\",\"Liberal Arts\",\"Religious\",\"Public\",\"Public\",\"Private\",\"Religious\",\"Public\",\"Public\",\"Hispanic Serving\",\"Private\",\"Liberal Arts\",\"Other Minority Serving\",\"Private\",\"Liberal Arts\",\"Public\",\"Liberal Arts\",\"Public\",\"Private\",\"Liberal Arts\",\"Private\",\"Liberal Arts\",\"Hispanic Serving\",\"Public\",\"Community\",\"Hispanic Serving\",\"AAPI Serving\",\"Community\",\"Private\",\"Liberal Arts\",\"Religious\",\"Private\",\"Liberal Arts\",\"Public\",\"Liberal Arts\",\"Hispanic Serving\",\"Other Minority Serving\",\"Community\",\"Technical\",\"Community\",\"Public\",\"Hispanic Serving\",\"AAPI Serving\",\"Other Minority Serving\",\"Community\",\"Private\",\"Liberal Arts\",\"Community\",\"Public\",\"Community\",\"Hispanic Serving\",\"Private\",\"Liberal Arts\",\"Public\",\"Liberal Arts\",\"Community\",\"Private\",\"Private\",\"Liberal Arts\",\"Public\",\"Liberal Arts\",\"Hispanic Serving\",\"Private\",\"Liberal Arts\",\"Public\",\"Liberal Arts\",\"Private\",\"AAPI Serving\",\"Private\",\"Liberal Arts\",\"Public\",\"Public\",\"Public\",\"Public\",\"Hispanic Serving\",\"Private\",\"Public\",\"Public\",\"Liberal Arts\",\"Private\",\"Technical\",\"Private\",\"Religious\",\"Community\",\"Liberal Arts\",\"Technical\",\"Private\",\"Religious\",\"Private\",\"Liberal Arts\",\"Liberal Arts\",\"Public\",\"Community\",\"Public\",\"Public\",\"Liberal Arts\",\"Public\",\"Liberal Arts\",\"Public\",\"Private\",\"Community\",\"Community\",\"Community\",\"Community\",\"Public\",\"Public\",\"Liberal Arts\",\"Public\",\"Technical\",\"Community\",\"Private\",\"Liberal Arts\",\"Technical\",\"Hispanic Serving\",\"Public\",\"Military\",\"Hispanic Serving\",\"AAPI Serving\",\"Public\",\"Liberal Arts\",\"Private\",\"Liberal Arts\",\"Community\",\"Private\",\"Liberal Arts\"],[true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true,true]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>rating<\\/th>\\n      <th>type<\\/th>\\n      <th>value<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"className\":\"dt-right\",\"targets\":1},{\"orderable\":false,\"targets\":0},{\"name\":\" \",\"targets\":0},{\"name\":\"rating\",\"targets\":1},{\"name\":\"type\",\"targets\":2},{\"name\":\"value\",\"targets\":3}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n:::\n:::\n\n\nThat looks just like we wanted it to. Now that our data is formatting, we can \nwork on the plot. Per the data dictionary on the TidyVerse GitHub repository, we\nknow that fractional scores are possible. A quick call to the `unique` function\ntold me that the \"fractional\" scores are only half-stars, not any decimal in\nbetween two scores. So 1 and 1.5 are possible scores, but 1.7 is not. We should\nbin these scores by their leading digit so we have five possible fill values\ninstead of ten. We'll call these bins `rating_levs`, or \"rating levels.\"\n\nI would also like to order the bars in descending order of the total number of\nuniversities of that type. To do that, we'll count how many of each category\nthere are and save the order as a vector `uni_levs`, or \"university levels.\"\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nuni_levs <- uni_types |>\n  group_by(type) |>\n  summarise(count = n()) |>\n  arrange(desc(count)) |>\n  pull(type)\n\nrating_levs <- c(\"1 - 1.5\", \"2 - 2.5\", \"3 - 3.5\", \"4 - 4.5\", \"5\")\n```\n:::\n\n\nFor our last data wrangling step, we can assign the rating bins to their\nrespective ratings. I'll create a new column for this and call it `score`. After\nthat, we can group by type of university and `score`, and count the number of\noccurrences of each group. Then, we'll be ready to plot.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nuni_types <- uni_types |>\n  \n  # assign bins to the score variable\n  mutate(\n    score = case_when(\n      rating < 2 ~ rating_levs[1],\n      rating < 3 ~ rating_levs[2],\n      rating < 4 ~ rating_levs[3],\n      rating < 5 ~ rating_levs[4],\n      TRUE ~ rating_levs[5] \n    ),\n    \n    # order the score bins using the rating_levs we made earlier\n    score = factor(score, levels = rating_levs)\n  ) |>\n  \n  # count the number of each type/score combination\n  group_by(type, score) |>\n  summarise(count = n(), .groups = \"drop\") |>\n  \n  # reorder the universities by descending order of number\n  mutate(type = factor(type, levels = rev(uni_levs)))\n```\n:::\n\n\n# The Plot\n\nNow that we have our data, let's get the skeleton of the plot going. I'm going \nto use a favorite \"cheat code\" of mine for making aesthetically pleasing bar\ngraphs in R: the `ggchicklet` package. It lets us round the corners of each bar,\nwhich gives a much more aesthetic appearance (in my opinion). So, instead of\nusing the `geom_col` function that is standard, we will use `geom_chicklet`\ninstead. \n\nOne small note for `geom_chicklet`: it prefers to have bar graphs be vertical.\nBut because my category names are long (and you *never* want to rotate text),\nI would like the plot to be horizontal. So I'll map the type to the `x` axis and\nthe counts to the `y` axis like `geom_chicklet` prefers, but I'll use\n`coord_flip` afterwards to make it horizontal. This is the same technique that\nthe author of the `ggchicklet` package uses in his demo on the \n[`ggchicklet` GitHub repository](https://github.com/hrbrmstr/ggchicklet).\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nuni_types |>\n  ggplot(aes(x = type, y = count, fill = score)) +\n  geom_chicklet(position = position_stack(reverse = TRUE), width = 0.6) +\n  coord_flip()\n```\n\n::: {.cell-output-display}\n![](tidytuesday_06112024_files/figure-html/plot-1-1.png){fig-align='center' width=960}\n:::\n:::\n\n\nThis is already a great start! We have some aesthetic changes to make, but our\nbins and bars are in the order that we were hoping. Let's change some colors.\n\nFirst, I'll use my favorite theme function, which comes from the `ggthemes`\npackage. That theme is `theme_fivethirtyeight`, which takes its name from the\nlegendary data visualizations of the \n[FiveThirtyEight](https://abcnews.go.com/538) website. \n\nI also think it would be\nappropriate for us to use Pride colors, don't you? Of course, there is an R\npackage for that: the `gglgbtq` package, which I imported earlier. We will use\nthe \"rainbow\" color palette provided by `gglgbtq` to color our bars.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nuni_types |>\n  ggplot(aes(x = type, y = count, fill = score)) +\n  geom_chicklet(position = position_stack(reverse = TRUE), width = 0.6) +\n  coord_flip() +\n  \n  # change theme and base font size\n  theme_fivethirtyeight() +\n  \n  # change bar colors and put the legend in the right order\n  scale_fill_manual(values = palette_lgbtq(\"rainbow\"))\n```\n\n::: {.cell-output-display}\n![](tidytuesday_06112024_files/figure-html/plot-2-1.png){fig-align='center' width=960}\n:::\n:::\n\n\nNow we're cooking! I think we are safe to add the title and subtitle, and then\nwe can make a few more aesthetic changes before wrapping up. I want the\nbackground to be black (personal preference), which means the text needs to be\nwhite. I also don't think that horizontal grid lines are necessary when the `y`\naxis is discrete, so we will remove those. I love the legend, but I would like\nit to be stacked and placed vertically in the plot, rather than horizontal and\nbelow the plot.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nuni_types |>\n  ggplot(aes(x = type, y = count, fill = score)) +\n  geom_chicklet(position = position_stack(reverse = TRUE), width = 0.6) +\n  coord_flip() +\n  theme_fivethirtyeight() +\n  scale_fill_manual(values = palette_lgbtq(\"rainbow\")) +\n  \n  # add title and subtitle\n  labs(\n    title = \"Campus Pride Index Scores\",\n    subtitle = \"Higher scores mean increased LGBTQ-inclusive policies/programs\",\n  ) +\n  \n  theme(\n    # make all text white\n    text = element_text(color = \"white\", family = \"Lato\") ,\n    \n    # adjust title font size\n    plot.title = element_text(),\n    \n    # make background black\n    plot.background = element_rect(fill = \"black\"),\n    panel.background = element_rect(fill = \"black\"),\n    legend.background = element_rect(fill = \"black\"),\n    \n    # remove grid lines\n    panel.grid.major.y = element_blank(),\n    \n    # move legend\n    legend.direction = \"vertical\",\n    legend.position = c(0.9, 0.5),\n  )\n```\n\n::: {.cell-output-display}\n![](tidytuesday_06112024_files/figure-html/plot-3-1.png){fig-align='center' width=960}\n:::\n:::\n\n\nMuch better! Only a few small edits left. First, I don't think the legend needs\na title. I also want the higher scores to be higher on the legend, so we can \nreverse the order of the legend inside of the `scale_fill_manual` function. The\n`y` axis text is a little far from the axis for my liking, so we will shift that\nin, and we'll be done, save for one more thing: fonts.\n\nI'm going to use custom fonts that aren't shipped with R or `ggplot`. These\nfonts come from [Google Fonts](https://fonts.google.com), and we will need to\nuse two packages to get them to work: `sysfonts` to load fonts from Google and\n`showtext` to get them to work with our plots. Once we import them, we can use\nthem like any other font in our `ggplot` graphs! \n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\n# load fonts from Google Fonts into our project\nsysfonts::font_add_google(name = \"Galada\")\nsysfonts::font_add_google(name = \"Lato\")\nshowtext::showtext_auto()\n\nuni_types |>\n  ggplot(aes(x = type, y = count, fill = score)) +\n  geom_chicklet(position = position_stack(reverse = TRUE), width = 0.6) +\n  coord_flip() +\n  theme_fivethirtyeight() +\n  scale_fill_manual(\n    values = palette_lgbtq(\"rainbow\"),\n    guide = guide_legend(reverse = TRUE) # reverse the legend order\n  ) +\n  labs(\n    title = \"Campus Pride Index Scores\",\n    subtitle = \"Higher scores mean increased LGBTQ-inclusive policies/programs\",\n  ) +\n  theme(\n    # use Lato font from Google for all text\n    text = element_text(color = \"white\", family = \"Lato\") ,\n    \n    # use Galada font from Google just for the title\n    plot.title = element_text(family = \"Galada\"),\n    \n    plot.background = element_rect(fill = \"black\"),\n    panel.background = element_rect(fill = \"black\"),\n    panel.grid.major.y = element_blank(),\n    legend.background = element_rect(fill = \"black\"),\n    legend.title = element_blank(),\n    legend.direction = \"vertical\",\n    legend.position = c(0.9, 0.5),\n    \n    # shift y axis text closer to the margin\n    axis.text.y = element_text(margin = margin(r = -20))\n  )\n```\n\n::: {.cell-output-display}\n![](tidytuesday_06112024_files/figure-html/plot-final-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n# Conclusion\n\nDone! With some data wrangling and some nice themes, we have arrived of a\ngraph that we can be *proud* of (get it?). I hope this helps you in your own \ndata viz journey, but if you have further questions, feel free to join my \n[Discord server](https://discord.gg/vF6W2bdKFH) and ask me personally! And if \nyou are feeling grateful for my work (and are financially able to), you\ncan give me a special thanks by \n[buying me a coffee](https://buymeacoffee.com/mitchellharrison).\n\nAs always, thanks for reading, and see you next week!",
    "supporting": [
      "tidytuesday_06112024_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/htmlwidgets-1.6.4/htmlwidgets.js\"></script>\n<link href=\"../site_libs/datatables-css-0.0.0/datatables-crosstalk.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/datatables-binding-0.33/datatables.js\"></script>\n<script src=\"../site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"../site_libs/dt-core-1.13.6/css/jquery.dataTables.min.css\" rel=\"stylesheet\" />\n<link href=\"../site_libs/dt-core-1.13.6/css/jquery.dataTables.extra.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/dt-core-1.13.6/js/jquery.dataTables.min.js\"></script>\n<link href=\"../site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}