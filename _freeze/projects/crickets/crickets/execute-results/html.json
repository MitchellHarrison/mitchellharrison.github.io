{
  "hash": "3ab5d35ec9c2ebba5aadff35ed255120",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Cricket Crackers: A Bayesian Approach\"\ncategories:\n  - \"Bayesian Statistics\"\n  - \"Data Viz\"\n  - \"Research\"\nauthor: \"Mitch Harrison\"\nimage: \"../../images/thumbnails/projects/crickets.png\"\ndate: \"October 15, 2024\"\nexecute: \n  message: false\n  warning: false\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(tidymodels)\nlibrary(ggthemes)\nlibrary(gt)\nlibrary(bayesplot)\nlibrary(rstanarm)\n\ngrowth <- read_csv(\"data/growth.csv\") |> \n#growth <- read_csv(\"projects/crickets/data/growth.csv\") |>\n  janitor::clean_names() |>\n  mutate(\n    date_of_hatching = dmy(date_of_hatching),\n    date_of_measurement = dmy(date_of_measurement)\n  )\n\nrepro <- read_csv(\"data/reproduction.csv\") |> \n#repro <- read_csv(\"projects/crickets/data/reproduction.csv\") |> \n  janitor::clean_names() |>\n  mutate(\n    date_of_hatching = dmy(date_of_hatching),\n    date_of_laying = dmy(date_of_laying)\n  )\n\ntemp <- read_csv(\"data/temp_humid.csv\") |>\n#temp <- read_csv(\"projects/crickets/data/temp_humid.csv\") |>\n  janitor::clean_names()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nknitr::opts_chunk$set(\n  fig.width = 7,\n  fig.asp = 0.618,\n  fit.retina = 3,\n  fig.align = \"center\",\n  dpi = 300\n)\n\nset.seed(1337)\ntheme_set(theme_fivethirtyeight())\n\nLIGHT_BLUE <- \"#32a4a8\"\n```\n:::\n\n\n\n\n# Introduction\n\nLike me, you probably eat too much meat. Many of us have heard of the negative \nconsequences of meat consumption: high per-pound greenhouse gas emissions, \ndeforestation, and livestock abuse come to mind. While there may never be a \nperfect substitute for a three-pound porterhouse on your birthday, shifting our \ndaily protein sources to a more sustainable option could make a world (no pun \nintended) of difference.\n\nEnter the humble cricket. Crickets can be cultivated in much smaller spaces and \ngenerate less CO2 and methane than traditional (western) protein sources. Once \nharvested, crickets can be ground into flour and used to make food, such as \ncrackers. Researchers at the University of Antananarivo (in Madagascar) are \ntrying to find the ideal cricket species for such cultivation, perhaps leading \nto a new way of getting our daily protein that relies less on the evils we \nassociate with factory farming in the United States. Let's break down the \nexperiment design.\n\n## The Experiment\n\nResearchers are comparing four species of crickets: *Teleogryllus lemus*, \n*Gryllodes sigillatus*, *Teleogryllus afer*, and *Gryllus madagascariensis*. In \nthis experiment, 150 crickets from each species are incubated in a \nlab-controlled setting. Temperature and humidity were controlled, and each \nspecies had 12 hours of light and dark per day. \nUnlimited food, in the form of chicken feed, and unlimited water were provided \nto each cricket. Researchers allowed each cricket to grow individually inside a \nventilated plastic box. They measured each cricket's body length and weight \nmeasurements weekly and conducted checks every three days to see if a cricket \nhad molted (that is, shed its exoskeleton and entered a new growth stage).\n\nUpon reaching adulthood, 20 females and 20 males from each species were selected \nat random and paired together to breed eggs. Every 24 hours, researchers check \nfor eggs, count them, and separate them to allow them to hatch. They then record \nthe number of eggs laid and the number successfully hatched. We are left with a \npair of datasets: one for reproduction data about the eggs and the other about \nthe growth rates of the crickets when they hatch!\n\n## Our Plan\n\nGiven these data, our job as an analyst is to help decide which species is best \nfor future cultivation. Ideally, we want to maximize the amount of cricket flour \ngenerated per unit of time (in our case, per day). Since the entire cricket is \nground into flour, this is equivalent to trying to find the maximum amount of \nbody weight added per cricket per day. With that number, any future cricket \nfarmer could simply multiply by the number of crickets they expect to have to \narrive at total flour production estimates per day.\n\nLet's take a Bayesian approach. We will build two models: the first will give a \nposterior distribution of the number of eggs laid per species, and the second \nwill be a posterior distribution of growth per day by species. Finally, we can \nmultiply the posterior samples of each model together to arrive at a final \ndistribution that is a combination of the number of eggs laid and the amount of \ngrowth each cricket will experience per day. In other words, total meat per day! \nOnce we find the best species under these ideal conditions, future research can \nvary the breeding conditions to find optimal conditions for that species.\n\n# Modeling\n\nThere are a few things for which I want to control. First, let's explore the \ntemperature and humidity data to see if they should be included. After all, if \nthere was some climate control failure, we need to ensure that the environmental \nvariation didn't cause a change in cricket production. Fortunately, the \nresearchers also provide temperature and humidity data.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nclimate_data <- tibble(\n  idx = c(\"Temperature (C)\", \"Humidity\"),\n  Minimum = c(min(temp$temperature_c), min(temp$relative_humidity_percent)),\n  Maximum = c(max(temp$temperature_c), max(temp$relative_humidity_percent)),\n  Mean = c(mean(temp$temperature_c), mean(temp$relative_humidity_percent))\n)\n\ngt(climate_data, rowname_col = \"idx\") |>\n  tab_header(md(\"**Environmental Summary Stats**\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"jsrqprxxsd\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#jsrqprxxsd table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#jsrqprxxsd thead, #jsrqprxxsd tbody, #jsrqprxxsd tfoot, #jsrqprxxsd tr, #jsrqprxxsd td, #jsrqprxxsd th {\n  border-style: none;\n}\n\n#jsrqprxxsd p {\n  margin: 0;\n  padding: 0;\n}\n\n#jsrqprxxsd .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#jsrqprxxsd .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#jsrqprxxsd .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#jsrqprxxsd .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#jsrqprxxsd .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jsrqprxxsd .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jsrqprxxsd .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#jsrqprxxsd .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#jsrqprxxsd .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#jsrqprxxsd .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#jsrqprxxsd .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#jsrqprxxsd .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#jsrqprxxsd .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#jsrqprxxsd .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#jsrqprxxsd .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#jsrqprxxsd .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#jsrqprxxsd .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#jsrqprxxsd .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#jsrqprxxsd .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jsrqprxxsd .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#jsrqprxxsd .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#jsrqprxxsd .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#jsrqprxxsd .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jsrqprxxsd .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#jsrqprxxsd .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#jsrqprxxsd .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jsrqprxxsd .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jsrqprxxsd .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#jsrqprxxsd .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jsrqprxxsd .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#jsrqprxxsd .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#jsrqprxxsd .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jsrqprxxsd .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jsrqprxxsd .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#jsrqprxxsd .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#jsrqprxxsd .gt_left {\n  text-align: left;\n}\n\n#jsrqprxxsd .gt_center {\n  text-align: center;\n}\n\n#jsrqprxxsd .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#jsrqprxxsd .gt_font_normal {\n  font-weight: normal;\n}\n\n#jsrqprxxsd .gt_font_bold {\n  font-weight: bold;\n}\n\n#jsrqprxxsd .gt_font_italic {\n  font-style: italic;\n}\n\n#jsrqprxxsd .gt_super {\n  font-size: 65%;\n}\n\n#jsrqprxxsd .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#jsrqprxxsd .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#jsrqprxxsd .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#jsrqprxxsd .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#jsrqprxxsd .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#jsrqprxxsd .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#jsrqprxxsd .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#jsrqprxxsd .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#jsrqprxxsd div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"4\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style><span data-qmd-base64=\"PHN0cm9uZz5FbnZpcm9ubWVudGFsIFN1bW1hcnkgU3RhdHM8L3N0cm9uZz4=\"><span class='gt_from_md'><strong>Environmental Summary Stats</strong></span></span></td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"a::stub\"></th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Minimum\">Minimum</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Maximum\">Maximum</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Mean\">Mean</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><th id=\"stub_1_1\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Temperature (C)</th>\n<td headers=\"stub_1_1 Minimum\" class=\"gt_row gt_right\">27.3613</td>\n<td headers=\"stub_1_1 Maximum\" class=\"gt_row gt_right\">28.5224</td>\n<td headers=\"stub_1_1 Mean\" class=\"gt_row gt_right\">28.00294</td></tr>\n    <tr><th id=\"stub_1_2\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Humidity</th>\n<td headers=\"stub_1_2 Minimum\" class=\"gt_row gt_right\">63.8985</td>\n<td headers=\"stub_1_2 Maximum\" class=\"gt_row gt_right\">76.7460</td>\n<td headers=\"stub_1_2 Mean\" class=\"gt_row gt_right\">70.09048</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\nWe it's clear from our table that there is very little variance in temperature.\nI'm confident that adding it to our model would introduce unnecessary noise. \nBesides, in a real-world setting, asking a cricket farmer to control his\nenvironment within less than a single degree of variance is unreasonable, even\nif statistically optimal. The humidity has slightly higher variance, so let's\nlook at it more closely.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntemp |>\n  ggplot(aes(x = relative_humidity_percent)) +\n  geom_histogram(color = \"black\", fill = LIGHT_BLUE) +\n  labs(\n    x = \"Relative humidity (%)\",\n    y = \"Count\",\n    title = \"Relative humidity of cricket enclosures\",\n    subtitle = \"Measurements are taken hourly\"\n  ) +\n  theme(axis.title = element_text())\n```\n\n::: {.cell-output-display}\n![](crickets_files/figure-html/humidity-distribution-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n\n\nOkay, the humidity appears to be approximately normally distributed. But these\nmeasurements are taken hourly! Unfortunately, because researchers only check\nfor hatched eggs once per day, correcting for hourly change in humidity doesn't\ndo us much good. The better bet would be to use the daily mean. However, it is\nreasonable to expect much lower variance when we take the averages. Let's see if\nthat pans out.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ntemp |>\n  separate(timestamp, into = c(\"date\", \"time\"), sep = \" \") |>\n  mutate(date = as.Date(date, format = \"%m/%d/%y\")) |>\n  group_by(date) |>\n  summarise(humidity = mean(relative_humidity_percent)) |>\n  ggplot(aes(x = humidity)) +\n  geom_histogram(color = \"black\", fill = LIGHT_BLUE) +\n  labs(\n    x = \"Relative humidity (%)\",\n    y = \"Count\",\n    title = \"Relative humidity of cricket enclosures\",\n    subtitle = \"Measurements shown are daily averages\"\n  ) +\n  theme(axis.title = element_text())\n```\n\n::: {.cell-output-display}\n![](crickets_files/figure-html/humidity-daily-distribution-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n\n\nAs expected, we have much lower variance when we take the daily mean instead of\nthe hourly measurements. Notice the $x$ axis: the difference between the lowest\nand highest observation is just over 1%! Including such a consistent variable in\nour model is very unlikely to prove significant, and it increases the complexity\n(and thereby the possibility of unnecessary noise) of our model. Thus, since\nthe researchers did such a good job controlling the environment, we will keep\nthe environmental factors out of our model. We are left with one dataset per\nmodel. Let's go one at a time.\n\n## The Egg Production Model\n\nLet's take a sample of our reproduction dataset to see what we are working with.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nrepro |>\n  select(-c(temperature_c, mortality_of_adults_y_n)) |>\n  slice_sample(n = 5) |>\n  gt() |>\n  tab_header(md(\"**Random sample: reproduction dataset**\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"ileyvdnhsi\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#ileyvdnhsi table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#ileyvdnhsi thead, #ileyvdnhsi tbody, #ileyvdnhsi tfoot, #ileyvdnhsi tr, #ileyvdnhsi td, #ileyvdnhsi th {\n  border-style: none;\n}\n\n#ileyvdnhsi p {\n  margin: 0;\n  padding: 0;\n}\n\n#ileyvdnhsi .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ileyvdnhsi .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#ileyvdnhsi .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ileyvdnhsi .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ileyvdnhsi .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ileyvdnhsi .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ileyvdnhsi .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ileyvdnhsi .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ileyvdnhsi .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ileyvdnhsi .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ileyvdnhsi .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ileyvdnhsi .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ileyvdnhsi .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#ileyvdnhsi .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#ileyvdnhsi .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ileyvdnhsi .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ileyvdnhsi .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ileyvdnhsi .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ileyvdnhsi .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ileyvdnhsi .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ileyvdnhsi .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ileyvdnhsi .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#ileyvdnhsi .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ileyvdnhsi .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ileyvdnhsi .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ileyvdnhsi .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ileyvdnhsi .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ileyvdnhsi .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ileyvdnhsi .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ileyvdnhsi .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ileyvdnhsi .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ileyvdnhsi .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ileyvdnhsi .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ileyvdnhsi .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ileyvdnhsi .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ileyvdnhsi .gt_left {\n  text-align: left;\n}\n\n#ileyvdnhsi .gt_center {\n  text-align: center;\n}\n\n#ileyvdnhsi .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ileyvdnhsi .gt_font_normal {\n  font-weight: normal;\n}\n\n#ileyvdnhsi .gt_font_bold {\n  font-weight: bold;\n}\n\n#ileyvdnhsi .gt_font_italic {\n  font-style: italic;\n}\n\n#ileyvdnhsi .gt_super {\n  font-size: 65%;\n}\n\n#ileyvdnhsi .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#ileyvdnhsi .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ileyvdnhsi .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ileyvdnhsi .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ileyvdnhsi .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ileyvdnhsi .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ileyvdnhsi .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#ileyvdnhsi .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#ileyvdnhsi div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"6\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style><span data-qmd-base64=\"PHN0cm9uZz5SYW5kb20gc2FtcGxlOiByZXByb2R1Y3Rpb24gZGF0YXNldDwvc3Ryb25nPg==\"><span class='gt_from_md'><strong>Random sample: reproduction dataset</strong></span></span></td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"species\">species</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"paired_adults\">paired_adults</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"date_of_laying\">date_of_laying</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"eggs_number\">eggs_number</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"date_of_hatching\">date_of_hatching</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"hatched_eggs\">hatched_eggs</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"species\" class=\"gt_row gt_left\">Gryllodes sigillatus</td>\n<td headers=\"paired_adults\" class=\"gt_row gt_right\">19</td>\n<td headers=\"date_of_laying\" class=\"gt_row gt_right\">2023-12-23</td>\n<td headers=\"eggs_number\" class=\"gt_row gt_right\">102</td>\n<td headers=\"date_of_hatching\" class=\"gt_row gt_right\">2024-01-03</td>\n<td headers=\"hatched_eggs\" class=\"gt_row gt_right\">66</td></tr>\n    <tr><td headers=\"species\" class=\"gt_row gt_left\">Teleogryllus lemur</td>\n<td headers=\"paired_adults\" class=\"gt_row gt_right\">6</td>\n<td headers=\"date_of_laying\" class=\"gt_row gt_right\">2023-11-07</td>\n<td headers=\"eggs_number\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"date_of_hatching\" class=\"gt_row gt_right\">NA</td>\n<td headers=\"hatched_eggs\" class=\"gt_row gt_right\">NA</td></tr>\n    <tr><td headers=\"species\" class=\"gt_row gt_left\">Teleogryllus afer</td>\n<td headers=\"paired_adults\" class=\"gt_row gt_right\">15</td>\n<td headers=\"date_of_laying\" class=\"gt_row gt_right\">2024-01-13</td>\n<td headers=\"eggs_number\" class=\"gt_row gt_right\">103</td>\n<td headers=\"date_of_hatching\" class=\"gt_row gt_right\">2024-01-20</td>\n<td headers=\"hatched_eggs\" class=\"gt_row gt_right\">72</td></tr>\n    <tr><td headers=\"species\" class=\"gt_row gt_left\">Teleogryllus afer</td>\n<td headers=\"paired_adults\" class=\"gt_row gt_right\">10</td>\n<td headers=\"date_of_laying\" class=\"gt_row gt_right\">2024-01-13</td>\n<td headers=\"eggs_number\" class=\"gt_row gt_right\">113</td>\n<td headers=\"date_of_hatching\" class=\"gt_row gt_right\">2024-01-20</td>\n<td headers=\"hatched_eggs\" class=\"gt_row gt_right\">79</td></tr>\n    <tr><td headers=\"species\" class=\"gt_row gt_left\">Teleogryllus lemur</td>\n<td headers=\"paired_adults\" class=\"gt_row gt_right\">7</td>\n<td headers=\"date_of_laying\" class=\"gt_row gt_right\">2023-11-01</td>\n<td headers=\"eggs_number\" class=\"gt_row gt_right\">116</td>\n<td headers=\"date_of_hatching\" class=\"gt_row gt_right\">2023-11-08</td>\n<td headers=\"hatched_eggs\" class=\"gt_row gt_right\">81</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\nWe can start to see the structure of the data. Each row represents a single\nmating pair (`paired_adults`) on a specific date (`date_of_laying`). The eggs\nlaid that day hatch at a later date (`date_of_hatching`), and the number of\nthose eggs that successfully hatch are provided as well (`hatched_eggs`). The\nfirst question that comes to my mind is whether any of the four species has a\nsignificantly higher hatch rate than the others. Let's have a look.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\np_success <- repro |>\n  group_by(paired_adults, species) |>\n  summarise(\n    eggs_laid = sum(eggs_number, na.rm = T),\n    hatched = sum(hatched_eggs, na.rm = T)  \n  ) |>\n  mutate(succ_prop = hatched / eggs_laid)\n\np_success$id <- 1:nrow(p_success)\n\np_success |>\n  ggplot(aes(x = succ_prop, color = species)) +\n  geom_density(linewidth = 2) +\n  scale_color_wsj() +\n  labs(\n    x = \"Proportion of eggs hatched\",\n    y = \"Density\",\n    color = \"Species\",\n    title = \"Successful eggs distribution\",\n    subtitle = \"The proportion of laid eggs successfully hatched by species\"\n  )\n```\n\n::: {.cell-output-display}\n![](crickets_files/figure-html/eggs-success-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n\n\nThe four species seem to neatly stick to one of two modes. But again, we have to\nobserve the $x$ axis: there is next to no variance among any of the four \nspecies! The two modes are just about $0.0672$ and $0.0676$. Either we have a\nset of four strangely uniform cricket species, or there is a date collection\nerror somewhere. Either way, hatch rate probably isn't going to help us\ndetermine the best species. Since all four species have an approximately equal\nhatch rate, all that matters to us is the absolute number of eggs hatched. Let's\nmodel it!\n\n### Building the model\n\nThe only variable left to use as a predictor is the `species` of each mating\npair. We have already eliminated hatch rate and both environmental factors that\nwe were given by researchers, so we won't be able to correct for other\npredictors. That's a shame, but a univariate model is better than none. To\nmaintain the independence of our observations, we don't want to include every\npair multiple times. If we did, then we would have reason to believe that the\neggs hatched by one row is impacted by the eggs of another row. After all, they\nare the same breeding pair!\n\nTo maintain independence, let's take the mean of each mating pair's reproductive\nlife. In doing so, we lose some data but gain statistical independence, without\nwhich we can't do a model at all. Once we take that mean, we can run a \nBayesian regression model with our `species` predictor and arrive at a\nper-species posterior distribution of the number of eggs successfully hatched\nper day. To make life easier, let's see if we can use a common prior. The\neasiest one to check is the normal prior. Let's plot our observed density\nagainst a normal distribution with the sample mean and standard deviation.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nrepro_b <- repro |>\n  group_by(species, paired_adults) |>\n  summarise(hatched_eggs = floor(mean(hatched_eggs, na.rm = TRUE)))\n\nrepro_b |>\n  ggplot(aes(x = hatched_eggs)) +\n  geom_density(\n    aes(color = \"Observed distribution\"),\n    linewidth = 2,\n    color = \"darkgray\"\n  ) +\n  stat_function(\n    aes(color = \"Normal distribution\"),\n    fun = dnorm, \n    args = list(mean = mean(repro_b$hatched_eggs), \n                sd = sd(repro_b$hatched_eggs)), \n    linewidth = 2,\n    color = LIGHT_BLUE\n  ) +\n  annotate(\n    geom = \"text\",\n    label = \"Normal distribution\",\n    x = 67,\n    y = 0.035,\n    hjust = \"right\",\n    vjust = \"bottom\",\n    fontface = \"bold\",\n    color = LIGHT_BLUE\n  ) +\n  annotate(\n    geom = \"text\",\n    label = \"Observed distribution\",\n    x = 73,\n    y = 0.077,\n    hjust = \"right\",\n    vjust = \"bottom\",\n    fontface = \"bold\",\n    color = \"darkgray\"\n  ) +\n  labs(\n    x = \"Eggs hatched\",\n    title = \"Observed eggs hatched vs normal distribution\",\n    subtitle = paste(\"The observed egg hatch rate is similar enough to use a\",\n                     \"normal prior.\")\n  ) +\n  theme(axis.title.x = element_text())\n```\n\n::: {.cell-output-display}\n![](crickets_files/figure-html/viz-hatch-count-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n\n\nLooks good enough to me! Using data visualization is a quick and dirty way to\nselect a prior, but with a model as simple as ours and an observed distribution\nso close to normal (thanks, Central Limit Theorem!), I'm hoping that it will at\nleast do better than throwing an un-informative prior at it and hoping for the\nbest.\n\nSo we're ready for our first of two models! Let's run it with 5000 iterations\nwith our normal prior with observed mean and standard deviation!\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nITERS <- 5000\nmean_eggs <- mean(repro$hatched_eggs, na.rm = TRUE)\nsd_eggs <- sd(repro$hatched_eggs, na.rm = TRUE)\n\nmodel_eggs <- stan_glm(\n  hatched_eggs ~ species,\n  data = repro_b,\n  family = poisson(link = \"log\"),\n  prior = normal(mean_eggs, sd_eggs),\n  chains = 1,\n  iter = ITERS,\n  seed = 440,\n  refresh = 0\n)\n```\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\neggs_tib <- exp(as_tibble(model_eggs)) \ncolnames(eggs_tib) <- c(\"a\", \"b\", \"c\", \"d\")\neggs_tib <- eggs_tib |>\n  mutate(\n    b = b + a,\n    c = c + a,\n    d = d + a\n  )\ncolnames(eggs_tib) <- sort(unique(growth$species))\n\neggs_tib |>\n  pivot_longer(cols = everything(), names_to = \"species\", values_to = \"eggs\") |>\n  ggplot(aes(x = eggs, fill = species)) +\n  geom_histogram(bins = 50) +\n  scale_fill_wsj() +\n  facet_wrap(~species, nrow = 2) +\n  theme(legend.position = \"none\") +\n  labs(\n    x = \"Predicted number of eggs laid (per day)\",\n    y = paste0(\"Count (n = \", ITERS, \")\"),\n    title = \"Posterior distribution of eggs laid per day\",\n    subtitle = \"Only Gryllodes sigillatus shows lower egg production\"\n  )\n```\n\n::: {.cell-output-display}\n![](crickets_files/figure-html/viz-eggs-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n\n\nAnd here we have it! Not particularly sexy, but we have posterior samples. So\nfar, it looks like most of the species are going to have about the same\ndistribution of eggs hatched per day. We can verify that assumption with a 95%\nposterior confidence interval.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nci_eggs <- exp(as_tibble(posterior_interval(model_eggs)))\ncolnames(ci_eggs) <- c(\"lower\", \"upper\")\nint_vals <- unname(as_vector(slice_head(ci_eggs, n = 1)))\nci_eggs[2:4,1] <- ci_eggs[2:4,1] + int_vals[1]\nci_eggs[2:4,2] <- ci_eggs[2:4,2] + int_vals[2]\nci_eggs$species <- sort(unique(growth$species))\n\nci_eggs <- ci_eggs |>\n  select(species, lower, upper) |>\n  mutate(lower = round(lower, 2), upper = round(upper, 2))\n\ngt(ci_eggs) |>\n  tab_header(md(\"**95% Posterior CI: eggs hatched per day**\")) |>\n  cols_label(\n    species = \"Species\",\n    lower = \"Lower\",\n    upper = \"Upper\"\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"ynpjyfgupi\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#ynpjyfgupi table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#ynpjyfgupi thead, #ynpjyfgupi tbody, #ynpjyfgupi tfoot, #ynpjyfgupi tr, #ynpjyfgupi td, #ynpjyfgupi th {\n  border-style: none;\n}\n\n#ynpjyfgupi p {\n  margin: 0;\n  padding: 0;\n}\n\n#ynpjyfgupi .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ynpjyfgupi .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#ynpjyfgupi .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ynpjyfgupi .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ynpjyfgupi .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ynpjyfgupi .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ynpjyfgupi .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ynpjyfgupi .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ynpjyfgupi .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ynpjyfgupi .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ynpjyfgupi .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ynpjyfgupi .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ynpjyfgupi .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#ynpjyfgupi .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#ynpjyfgupi .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ynpjyfgupi .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ynpjyfgupi .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ynpjyfgupi .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ynpjyfgupi .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ynpjyfgupi .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ynpjyfgupi .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ynpjyfgupi .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#ynpjyfgupi .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ynpjyfgupi .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ynpjyfgupi .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ynpjyfgupi .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ynpjyfgupi .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ynpjyfgupi .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ynpjyfgupi .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ynpjyfgupi .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ynpjyfgupi .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ynpjyfgupi .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ynpjyfgupi .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ynpjyfgupi .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ynpjyfgupi .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ynpjyfgupi .gt_left {\n  text-align: left;\n}\n\n#ynpjyfgupi .gt_center {\n  text-align: center;\n}\n\n#ynpjyfgupi .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ynpjyfgupi .gt_font_normal {\n  font-weight: normal;\n}\n\n#ynpjyfgupi .gt_font_bold {\n  font-weight: bold;\n}\n\n#ynpjyfgupi .gt_font_italic {\n  font-style: italic;\n}\n\n#ynpjyfgupi .gt_super {\n  font-size: 65%;\n}\n\n#ynpjyfgupi .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#ynpjyfgupi .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ynpjyfgupi .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ynpjyfgupi .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ynpjyfgupi .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ynpjyfgupi .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ynpjyfgupi .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#ynpjyfgupi .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#ynpjyfgupi div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"3\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style><span data-qmd-base64=\"PHN0cm9uZz45NSUgUG9zdGVyaW9yIENJOiBlZ2dzIGhhdGNoZWQgcGVyIGRheTwvc3Ryb25nPg==\"><span class='gt_from_md'><strong>95% Posterior CI: eggs hatched per day</strong></span></span></td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"species\">Species</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"lower\">Lower</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"upper\">Upper</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"species\" class=\"gt_row gt_left\">Gryllodes sigillatus</td>\n<td headers=\"lower\" class=\"gt_row gt_right\">67.79</td>\n<td headers=\"upper\" class=\"gt_row gt_right\">73.84</td></tr>\n    <tr><td headers=\"species\" class=\"gt_row gt_left\">Gryllus madagascariensis</td>\n<td headers=\"lower\" class=\"gt_row gt_right\">68.82</td>\n<td headers=\"upper\" class=\"gt_row gt_right\">75.01</td></tr>\n    <tr><td headers=\"species\" class=\"gt_row gt_left\">Teleogryllus afer</td>\n<td headers=\"lower\" class=\"gt_row gt_right\">68.79</td>\n<td headers=\"upper\" class=\"gt_row gt_right\">74.97</td></tr>\n    <tr><td headers=\"species\" class=\"gt_row gt_left\">Teleogryllus lemur</td>\n<td headers=\"lower\" class=\"gt_row gt_right\">68.79</td>\n<td headers=\"upper\" class=\"gt_row gt_right\">74.97</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\nAs we assumed, our posterior confidence intervals are extremely close across\nall four species (even identical when rounded to 2 significant figures). There\nis a small dip for *Gryllodes sigillatus*, but not an appreciable one.\nHopefully we get better results when we build our second model and combine them.\n\n## Growth rate model\n\nNow that we have an idea of how many eggs each mating pair will produce for\neach species, it's time to model how much those newly-hatched crickets will\ngrow every day. Let's sample our growth data to see what we're working with.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ngrowth |>\n  select(-c(temperature_c, mortality_y_n)) |>\n  slice_sample(n = 5) |>\n  gt() |>\n  tab_header(md(\"**Random sample: growth dataset**\"))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"uofopkzrvp\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#uofopkzrvp table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#uofopkzrvp thead, #uofopkzrvp tbody, #uofopkzrvp tfoot, #uofopkzrvp tr, #uofopkzrvp td, #uofopkzrvp th {\n  border-style: none;\n}\n\n#uofopkzrvp p {\n  margin: 0;\n  padding: 0;\n}\n\n#uofopkzrvp .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#uofopkzrvp .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#uofopkzrvp .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#uofopkzrvp .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#uofopkzrvp .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#uofopkzrvp .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#uofopkzrvp .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#uofopkzrvp .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#uofopkzrvp .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#uofopkzrvp .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#uofopkzrvp .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#uofopkzrvp .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#uofopkzrvp .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#uofopkzrvp .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#uofopkzrvp .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#uofopkzrvp .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#uofopkzrvp .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#uofopkzrvp .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#uofopkzrvp .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#uofopkzrvp .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#uofopkzrvp .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#uofopkzrvp .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#uofopkzrvp .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#uofopkzrvp .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#uofopkzrvp .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#uofopkzrvp .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#uofopkzrvp .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#uofopkzrvp .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#uofopkzrvp .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#uofopkzrvp .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#uofopkzrvp .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#uofopkzrvp .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#uofopkzrvp .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#uofopkzrvp .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#uofopkzrvp .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#uofopkzrvp .gt_left {\n  text-align: left;\n}\n\n#uofopkzrvp .gt_center {\n  text-align: center;\n}\n\n#uofopkzrvp .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#uofopkzrvp .gt_font_normal {\n  font-weight: normal;\n}\n\n#uofopkzrvp .gt_font_bold {\n  font-weight: bold;\n}\n\n#uofopkzrvp .gt_font_italic {\n  font-style: italic;\n}\n\n#uofopkzrvp .gt_super {\n  font-size: 65%;\n}\n\n#uofopkzrvp .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#uofopkzrvp .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#uofopkzrvp .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#uofopkzrvp .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#uofopkzrvp .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#uofopkzrvp .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#uofopkzrvp .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#uofopkzrvp .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#uofopkzrvp div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"9\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style><span data-qmd-base64=\"PHN0cm9uZz5SYW5kb20gc2FtcGxlOiBncm93dGggZGF0YXNldDwvc3Ryb25nPg==\"><span class='gt_from_md'><strong>Random sample: growth dataset</strong></span></span></td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"species\">species</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"individuals\">individuals</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"date_of_hatching\">date_of_hatching</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"date_of_molting\">date_of_molting</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"stage\">stage</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"date_of_measurement\">date_of_measurement</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"day_weekly\">day_weekly</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"body_length_mm\">body_length_mm</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"body_weight_g\">body_weight_g</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"species\" class=\"gt_row gt_left\">Gryllodes sigillatus</td>\n<td headers=\"individuals\" class=\"gt_row gt_right\">77</td>\n<td headers=\"date_of_hatching\" class=\"gt_row gt_right\">2023-11-08</td>\n<td headers=\"date_of_molting\" class=\"gt_row gt_right\">18/12/23</td>\n<td headers=\"stage\" class=\"gt_row gt_left\">L2</td>\n<td headers=\"date_of_measurement\" class=\"gt_row gt_right\">2023-11-29</td>\n<td headers=\"day_weekly\" class=\"gt_row gt_right\">21</td>\n<td headers=\"body_length_mm\" class=\"gt_row gt_right\">6.0</td>\n<td headers=\"body_weight_g\" class=\"gt_row gt_right\">0.016</td></tr>\n    <tr><td headers=\"species\" class=\"gt_row gt_left\">Gryllodes sigillatus</td>\n<td headers=\"individuals\" class=\"gt_row gt_right\">57</td>\n<td headers=\"date_of_hatching\" class=\"gt_row gt_right\">2023-11-08</td>\n<td headers=\"date_of_molting\" class=\"gt_row gt_right\">23/11/23</td>\n<td headers=\"stage\" class=\"gt_row gt_left\">L1</td>\n<td headers=\"date_of_measurement\" class=\"gt_row gt_right\">2023-11-15</td>\n<td headers=\"day_weekly\" class=\"gt_row gt_right\">7</td>\n<td headers=\"body_length_mm\" class=\"gt_row gt_right\">2.5</td>\n<td headers=\"body_weight_g\" class=\"gt_row gt_right\">0.001</td></tr>\n    <tr><td headers=\"species\" class=\"gt_row gt_left\">Gryllus madagascariensis</td>\n<td headers=\"individuals\" class=\"gt_row gt_right\">131</td>\n<td headers=\"date_of_hatching\" class=\"gt_row gt_right\">2023-11-30</td>\n<td headers=\"date_of_molting\" class=\"gt_row gt_right\">20/12/23</td>\n<td headers=\"stage\" class=\"gt_row gt_left\">L1</td>\n<td headers=\"date_of_measurement\" class=\"gt_row gt_right\">2023-12-07</td>\n<td headers=\"day_weekly\" class=\"gt_row gt_right\">7</td>\n<td headers=\"body_length_mm\" class=\"gt_row gt_right\">3.5</td>\n<td headers=\"body_weight_g\" class=\"gt_row gt_right\">0.001</td></tr>\n    <tr><td headers=\"species\" class=\"gt_row gt_left\">Teleogryllus afer</td>\n<td headers=\"individuals\" class=\"gt_row gt_right\">25</td>\n<td headers=\"date_of_hatching\" class=\"gt_row gt_right\">2023-11-17</td>\n<td headers=\"date_of_molting\" class=\"gt_row gt_right\">24/11/23</td>\n<td headers=\"stage\" class=\"gt_row gt_left\">L1</td>\n<td headers=\"date_of_measurement\" class=\"gt_row gt_right\">2023-11-24</td>\n<td headers=\"day_weekly\" class=\"gt_row gt_right\">7</td>\n<td headers=\"body_length_mm\" class=\"gt_row gt_right\">3.0</td>\n<td headers=\"body_weight_g\" class=\"gt_row gt_right\">0.001</td></tr>\n    <tr><td headers=\"species\" class=\"gt_row gt_left\">Gryllus madagascariensis</td>\n<td headers=\"individuals\" class=\"gt_row gt_right\">67</td>\n<td headers=\"date_of_hatching\" class=\"gt_row gt_right\">2023-11-30</td>\n<td headers=\"date_of_molting\" class=\"gt_row gt_right\">18/01/24</td>\n<td headers=\"stage\" class=\"gt_row gt_left\">L4</td>\n<td headers=\"date_of_measurement\" class=\"gt_row gt_right\">2023-12-28</td>\n<td headers=\"day_weekly\" class=\"gt_row gt_right\">28</td>\n<td headers=\"body_length_mm\" class=\"gt_row gt_right\">8.5</td>\n<td headers=\"body_weight_g\" class=\"gt_row gt_right\">0.045</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\nAgain, we run into an issue with a lack of useful predictors. Let's talk\nabout why. Although we don't see them in this sample, there are five life\nstages in the data, `L1` through `L5`. Each of these life stages strictly\nincreases cricket size. After all, if they weren't growing, there's no reason\nto molt. So if we want to maximize our cricket weight output, we will always be\nharvesting the crickets at stage `L5`. Thus, to build our second model we will\nonly use the data that is from stage `L5`, when the crickets are the largest\nthey will ever be.\n\nAdditionally, because we are only concerned with the amount of cricket flour\nproduced, the body length of each cricket is of no help. If a cricket is \nlarger in length but smaller in weight, it ultimately produces less flour.\nFinally, the date columns don't help us either, since our model will be\ntime-agnostic. Observe that the time it takes for each species' eggs to hatch\nonly effects the \"start-up\" time of a new cricket farm. Once the first batch of\neggs hatches, a farmer will produce new crickets every day. So time-to-hatch\nisn't relevant in real-world scenarios unless some species take so much longer\nto hatch that there may be a financial cost to a delayed startup. Let's quickly\nsee if that's the case by visualizing the distribution of hatch times by\nspecies.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nrepro |>\n  mutate(hatchdays = difftime(date_of_hatching, date_of_laying, \n                              units = \"days\")) |>\n  ggplot(aes(x = hatchdays, fill = species)) +\n  geom_histogram(stat = \"count\") +\n  scale_fill_wsj() +\n  facet_wrap(~ species, nrow = 2) +\n  labs(\n    x = \"Number of Days for an Egg to Hatch\",\n    y = \"Count\",\n    title = \"Cricket hatch times\",\n    subtitle = \"The number of days between laying and hatching cricket eggs\"\n  ) +\n  theme(legend.position = \"none\", axis.title = element_text())\n```\n\n::: {.cell-output-display}\n![](crickets_files/figure-html/hatch-times-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n\n\nThere are some modest differences, but probably not enough to impact cricket\nharvesting at scale. Thus, unfortunately, we are again limited to only using \n`species` as a predictor. But notice that the variable we are interested in\nisn't in the data! If we want to measure growth rate, our response variable is\nthe amount of weight gained by each cricket from hatching to life stage `L5`.\nThus, we can manipulate our data to create this variable.\n\nGrouping by individual cricket and species, we can measure `growth_time` as the\nnumber of days between hatching and stage `L5`. Dividing its final weight by\nthis number of days, we arrive at our response variable: average growth per day\nfor each cricket/species pair! Let's see if that new variable approximates a\nnormal distribution to help us choose a prior.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ngrowth_b <- growth |>\n  filter(day_weekly == 42) |>\n  mutate(\n    growth_time = as.numeric(\n      difftime(date_of_measurement, date_of_hatching, units = \"days\")\n    )\n  ) |>\n  select(body_weight_g, growth_time, species, individuals)\n\ngrowth_b <- growth_b |>\n  mutate(growth_rate = body_weight_g / growth_time) |>\n  filter(!is.na(growth_rate))\n\nMEAN <- mean(growth_b$growth_rate, na.rm = TRUE)\nSD <- sd(growth_b$growth_rate, na.rm = TRUE)\n\ngrowth_b |>\n  ggplot(aes(x = growth_rate)) +\n  geom_density(\n    aes(color = \"Observed distribution\"),\n    linewidth = 2,\n    color = \"darkgray\"\n  ) +\n  stat_function(\n    aes(color = \"Normal distribution\"),\n    fun = dnorm, \n    args = list(mean = MEAN, sd = SD), \n    linewidth = 2,\n    color = LIGHT_BLUE\n  ) +\n  annotate(\n    geom = \"text\",\n    label = \"Normal distribution\",\n    x = 0.015,\n    y = 60,\n    hjust = \"right\",\n    vjust = \"bottom\",\n    fontface = \"bold\",\n    color = LIGHT_BLUE\n  ) +\n  annotate(\n    geom = \"text\",\n    label = \"Observed distribution\",\n    x = 0.01,\n    y = 150,\n    hjust = \"right\",\n    vjust = \"bottom\",\n    fontface = \"bold\",\n    color = \"darkgray\"\n  ) +\n  labs(\n    x = \"Growth rate (per day)\",\n    title = \"Observed growth rates vs normal distribution\",\n    subtitle = paste(\"The observed growth rate is not similar enough to use a\",\n                     \"normal prior.\")\n  ) +\n  theme(axis.title.x = element_text())\n```\n\n::: {.cell-output-display}\n![](crickets_files/figure-html/viz-growth-prior-1.png){fig-align='center' width=2100}\n:::\n:::\n\n\n\n\nThis time, our response variable doesn't well-approximate a normal distribution.\nTo make our life easier, let's just an un-informative prior this time. It's\nmodeling time!\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nmodel_growth <- stan_glm(\n  growth_rate ~ species,\n  data = growth_b,\n  family = gaussian,\n  chains = 1,\n  iter = ITERS,\n  seed = 440,\n  refresh = 0\n)\n```\n:::\n\n\n\n\nBecause our response variables are so small, and because no one is harvesting a\nsmall number of crickets in practice, let's visualize our posterior after\nmultiplying the results by 100. That will show us a distribution of growth rates\nfor 100 crickets at a time. This is only for visualization purposes though: we\nwill use per-cricket growth when we build our final results.\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\ngrowth_tib <- as_tibble(model_growth)[,1:4]\ncolnames(growth_tib) <- c(\"a\", \"b\", \"c\", \"d\")\ngrowth_tib <- growth_tib |>\n  mutate(\n    b = b + a,\n    c = c + a,\n    d = d + a\n  )\ncolnames(growth_tib) <- sort(unique(growth$species))\n\ngrowth_tib |>\n  pivot_longer(cols = everything(), names_to = \"species\", values_to = \"rate\") |>\n  ggplot(aes(x = rate*100, fill = species)) +\n  geom_histogram(bins = 100) +\n  scale_fill_wsj() +\n  facet_wrap(~species) +\n  theme(legend.position = \"none\", axis.title.x = element_text()) +\n  labs(\n    x = \"Growth rate (per 100 crickets, per day)\",\n    y = paste0(\"Count (n = \", ITERS, \")\"),\n    title = \"Posterior daily growth rate\",\n    subtitle = paste(\n      \"Results are multiplied by 100 for ease of legibility. Model\",\n      \"coefficients \\nare per-cricket.\"\n    )\n  )\n```\n\n::: {.cell-output-display}\n![](crickets_files/figure-html/viz-growth-rate-1.png){fig-align='center' width=2100}\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nci_growth <- as_tibble(posterior_interval(model_growth))[1:4,]\ncolnames(ci_growth) <- c(\"lower\", \"upper\")\nint_vals <- unname(as_vector(slice_head(ci_growth, n = 1)))\nci_growth[2:4,1] <- ci_growth[2:4,1] + int_vals[1]\nci_growth[2:4,2] <- ci_growth[2:4,2] + int_vals[2]\nci_growth$species <- sort(unique(growth$species))\nci_growth <- select(ci_growth, species, lower, upper) |>\n  mutate(lower = round(lower, 4), upper = round(upper, 4))\n\ngt(ci_growth) |>\n  tab_header(md(\"**Posterior 95% CI: per-cricket growth rate**\")) |>\n  cols_label(\n    species = \"Species\",\n    lower = \"Lower bound\",\n    upper = \"Upper bound\"\n  )\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"bpbcfdcsos\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#bpbcfdcsos table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#bpbcfdcsos thead, #bpbcfdcsos tbody, #bpbcfdcsos tfoot, #bpbcfdcsos tr, #bpbcfdcsos td, #bpbcfdcsos th {\n  border-style: none;\n}\n\n#bpbcfdcsos p {\n  margin: 0;\n  padding: 0;\n}\n\n#bpbcfdcsos .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#bpbcfdcsos .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#bpbcfdcsos .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#bpbcfdcsos .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#bpbcfdcsos .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#bpbcfdcsos .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bpbcfdcsos .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#bpbcfdcsos .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#bpbcfdcsos .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#bpbcfdcsos .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#bpbcfdcsos .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#bpbcfdcsos .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#bpbcfdcsos .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#bpbcfdcsos .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#bpbcfdcsos .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#bpbcfdcsos .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#bpbcfdcsos .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#bpbcfdcsos .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#bpbcfdcsos .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bpbcfdcsos .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#bpbcfdcsos .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#bpbcfdcsos .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#bpbcfdcsos .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bpbcfdcsos .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#bpbcfdcsos .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#bpbcfdcsos .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bpbcfdcsos .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bpbcfdcsos .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#bpbcfdcsos .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bpbcfdcsos .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#bpbcfdcsos .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#bpbcfdcsos .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#bpbcfdcsos .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bpbcfdcsos .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#bpbcfdcsos .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#bpbcfdcsos .gt_left {\n  text-align: left;\n}\n\n#bpbcfdcsos .gt_center {\n  text-align: center;\n}\n\n#bpbcfdcsos .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#bpbcfdcsos .gt_font_normal {\n  font-weight: normal;\n}\n\n#bpbcfdcsos .gt_font_bold {\n  font-weight: bold;\n}\n\n#bpbcfdcsos .gt_font_italic {\n  font-style: italic;\n}\n\n#bpbcfdcsos .gt_super {\n  font-size: 65%;\n}\n\n#bpbcfdcsos .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#bpbcfdcsos .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#bpbcfdcsos .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#bpbcfdcsos .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#bpbcfdcsos .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#bpbcfdcsos .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#bpbcfdcsos .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#bpbcfdcsos .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#bpbcfdcsos div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"3\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style><span data-qmd-base64=\"PHN0cm9uZz5Qb3N0ZXJpb3IgOTUlIENJOiBwZXItY3JpY2tldCBncm93dGggcmF0ZTwvc3Ryb25nPg==\"><span class='gt_from_md'><strong>Posterior 95% CI: per-cricket growth rate</strong></span></span></td>\n    </tr>\n    \n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"species\">Species</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"lower\">Lower bound</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"upper\">Upper bound</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"species\" class=\"gt_row gt_left\">Gryllodes sigillatus</td>\n<td headers=\"lower\" class=\"gt_row gt_right\">0.0009</td>\n<td headers=\"upper\" class=\"gt_row gt_right\">0.0016</td></tr>\n    <tr><td headers=\"species\" class=\"gt_row gt_left\">Gryllus madagascariensis</td>\n<td headers=\"lower\" class=\"gt_row gt_right\">0.0126</td>\n<td headers=\"upper\" class=\"gt_row gt_right\">0.0144</td></tr>\n    <tr><td headers=\"species\" class=\"gt_row gt_left\">Teleogryllus afer</td>\n<td headers=\"lower\" class=\"gt_row gt_right\">0.0006</td>\n<td headers=\"upper\" class=\"gt_row gt_right\">0.0024</td></tr>\n    <tr><td headers=\"species\" class=\"gt_row gt_left\">Teleogryllus lemur</td>\n<td headers=\"lower\" class=\"gt_row gt_right\">0.0012</td>\n<td headers=\"upper\" class=\"gt_row gt_right\">0.0029</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\nWe seem to have a winner so far! The `Gryllus madagascariensis` are clearly the\ncrickets with the highest per-day growth rate from stage `L1` to `L5`. It is\nreasonable to expect that when we multiply our posterior sample from our two\nmodels together, `Gryllus madagascariensis` will be our winner. But there's\nonly one way to be sure, and that's putting our final results together.\n\n## Putting the models together\n\nSince we ran both models for exactly 5000 iterations, we can combine their\nresults by simply multiplying them together row-wise. This has the effect of\nasking \"for a given simulated number of eggs and a simulated growth rate, how\nmuch total weight will that many crickets generate that day?\" That's our\nresearch question, so let's find out!\n\n\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nmelt_growth <- growth_tib |>\n  pivot_longer(cols = everything(), names_to = \"species\", values_to = \"growth\") \n\nmelt_eggs <- eggs_tib |>\n  pivot_longer(cols = everything(), names_to = \"species\", values_to = \"eggs\") \n\npost_meat_per_day <- tibble(\n  species = melt_growth$species,\n  growth = melt_growth$growth,\n  eggs = melt_eggs$eggs,\n  meat_per_day = growth * eggs\n)\n\npost_meat_per_day |>\n  ggplot(aes(x = meat_per_day, fill = species)) +\n  geom_histogram(bins = 50) +\n  scale_fill_wsj() +\n  facet_wrap(~species, nrow = 2) +\n  theme(legend.position = \"none\", axis.title.x = element_text()) +\n  labs(\n    x = \"Meat production per day\",\n    y = paste0(\"Count (n = \", ITERS, \")\"),\n    title = \"Posterior distribution of meat production per day\",\n    subtitle = \"Meat production values are shown per breeding pair.\"\n  )\n```\n\n::: {.cell-output-display}\n![](crickets_files/figure-html/posterior-meat-per-day-1.png){fig-align='center' width=2100}\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nci_meat_per_day <- post_meat_per_day %>%\n  group_by(species) %>%\n  summarise(\n    lower = round(quantile(meat_per_day, 0.025, na.rm = TRUE), 2),\n    upper = round(quantile(meat_per_day, 0.975, na.rm = TRUE), 2)\n  )\n\nci_table <- left_join(ci_growth, ci_eggs, by = \"species\") |>\n  mutate(\n    lower.z = ci_meat_per_day$lower,\n    upper.z = ci_meat_per_day$upper\n  ) |>\n  gt(rowname_col = \"species\") |>\n  tab_spanner(\n    label = \"Growth rate\\n(per-cricket)\", \n    columns = c(lower.x, upper.x)\n  ) |>\n  tab_spanner(label = \"Eggs hatched\", columns = c(lower.y, upper.y)) |>\n  tab_spanner(label = \"Meat per day\", columns = c(lower.z, upper.z)) |>\n  cols_label(\n    lower.x = \"Lower\",\n    lower.y = \"Lower\",\n    lower.z = \"Lower\",\n    upper.x = \"Upper\",\n    upper.y = \"Upper\",\n    upper.z = \"Upper\"\n  ) |>\n  tab_header(md(\"**Posterior 95% confidence intervals**\")) |>\n  data_color(c(2,3,6,7), palette = \"#ededed\") |>\n  tab_style(\n    locations = cells_body(columns = c(6,7)),\n    style = list(cell_text(weight = \"bold\"))\n  ) |>\n  tab_options(\n    footnotes.padding = 3,\n    footnotes.font.size = 13\n  )\nci_table\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"ihcyokgdxh\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#ihcyokgdxh table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#ihcyokgdxh thead, #ihcyokgdxh tbody, #ihcyokgdxh tfoot, #ihcyokgdxh tr, #ihcyokgdxh td, #ihcyokgdxh th {\n  border-style: none;\n}\n\n#ihcyokgdxh p {\n  margin: 0;\n  padding: 0;\n}\n\n#ihcyokgdxh .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#ihcyokgdxh .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#ihcyokgdxh .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#ihcyokgdxh .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#ihcyokgdxh .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ihcyokgdxh .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ihcyokgdxh .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#ihcyokgdxh .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#ihcyokgdxh .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#ihcyokgdxh .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#ihcyokgdxh .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#ihcyokgdxh .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#ihcyokgdxh .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#ihcyokgdxh .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#ihcyokgdxh .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#ihcyokgdxh .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#ihcyokgdxh .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#ihcyokgdxh .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#ihcyokgdxh .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ihcyokgdxh .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#ihcyokgdxh .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#ihcyokgdxh .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#ihcyokgdxh .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ihcyokgdxh .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#ihcyokgdxh .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#ihcyokgdxh .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ihcyokgdxh .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ihcyokgdxh .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#ihcyokgdxh .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ihcyokgdxh .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#ihcyokgdxh .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#ihcyokgdxh .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ihcyokgdxh .gt_footnote {\n  margin: 0px;\n  font-size: 13px;\n  padding-top: 3px;\n  padding-bottom: 3px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ihcyokgdxh .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#ihcyokgdxh .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#ihcyokgdxh .gt_left {\n  text-align: left;\n}\n\n#ihcyokgdxh .gt_center {\n  text-align: center;\n}\n\n#ihcyokgdxh .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#ihcyokgdxh .gt_font_normal {\n  font-weight: normal;\n}\n\n#ihcyokgdxh .gt_font_bold {\n  font-weight: bold;\n}\n\n#ihcyokgdxh .gt_font_italic {\n  font-style: italic;\n}\n\n#ihcyokgdxh .gt_super {\n  font-size: 65%;\n}\n\n#ihcyokgdxh .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#ihcyokgdxh .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#ihcyokgdxh .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#ihcyokgdxh .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#ihcyokgdxh .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#ihcyokgdxh .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#ihcyokgdxh .gt_indent_5 {\n  text-indent: 25px;\n}\n\n#ihcyokgdxh .katex-display {\n  display: inline-flex !important;\n  margin-bottom: 0.75em !important;\n}\n\n#ihcyokgdxh div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {\n  height: 0px !important;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_heading\">\n      <td colspan=\"7\" class=\"gt_heading gt_title gt_font_normal gt_bottom_border\" style><span data-qmd-base64=\"PHN0cm9uZz5Qb3N0ZXJpb3IgOTUlIGNvbmZpZGVuY2UgaW50ZXJ2YWxzPC9zdHJvbmc+\"><span class='gt_from_md'><strong>Posterior 95% confidence intervals</strong></span></span></td>\n    </tr>\n    \n    <tr class=\"gt_col_headings gt_spanner_row\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"a::stub\"></th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" scope=\"colgroup\" id=\"Growth rate&#10;(per-cricket)\">\n        <div class=\"gt_column_spanner\">Growth rate\n(per-cricket)</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" scope=\"colgroup\" id=\"Eggs hatched\">\n        <div class=\"gt_column_spanner\">Eggs hatched</div>\n      </th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"2\" scope=\"colgroup\" id=\"Meat per day\">\n        <div class=\"gt_column_spanner\">Meat per day</div>\n      </th>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"lower.x\">Lower</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"upper.x\">Upper</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"lower.y\">Lower</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"upper.y\">Upper</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"lower.z\">Lower</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_right\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"upper.z\">Upper</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><th id=\"stub_1_1\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Gryllodes sigillatus</th>\n<td headers=\"stub_1_1 lower.x\" class=\"gt_row gt_right\" style=\"background-color: #EDEDED; color: #000000;\">0.0009</td>\n<td headers=\"stub_1_1 upper.x\" class=\"gt_row gt_right\" style=\"background-color: #EDEDED; color: #000000;\">0.0016</td>\n<td headers=\"stub_1_1 lower.y\" class=\"gt_row gt_right\">67.79</td>\n<td headers=\"stub_1_1 upper.y\" class=\"gt_row gt_right\">73.84</td>\n<td headers=\"stub_1_1 lower.z\" class=\"gt_row gt_right\" style=\"background-color: #EDEDED; color: #000000; font-weight: bold;\">0.06</td>\n<td headers=\"stub_1_1 upper.z\" class=\"gt_row gt_right\" style=\"background-color: #EDEDED; color: #000000; font-weight: bold;\">0.12</td></tr>\n    <tr><th id=\"stub_1_2\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Gryllus madagascariensis</th>\n<td headers=\"stub_1_2 lower.x\" class=\"gt_row gt_right\" style=\"background-color: #EDEDED; color: #000000;\">0.0126</td>\n<td headers=\"stub_1_2 upper.x\" class=\"gt_row gt_right\" style=\"background-color: #EDEDED; color: #000000;\">0.0144</td>\n<td headers=\"stub_1_2 lower.y\" class=\"gt_row gt_right\">68.82</td>\n<td headers=\"stub_1_2 upper.y\" class=\"gt_row gt_right\">75.01</td>\n<td headers=\"stub_1_2 lower.z\" class=\"gt_row gt_right\" style=\"background-color: #EDEDED; color: #000000; font-weight: bold;\">0.92</td>\n<td headers=\"stub_1_2 upper.z\" class=\"gt_row gt_right\" style=\"background-color: #EDEDED; color: #000000; font-weight: bold;\">1.03</td></tr>\n    <tr><th id=\"stub_1_3\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Teleogryllus afer</th>\n<td headers=\"stub_1_3 lower.x\" class=\"gt_row gt_right\" style=\"background-color: #EDEDED; color: #000000;\">0.0006</td>\n<td headers=\"stub_1_3 upper.x\" class=\"gt_row gt_right\" style=\"background-color: #EDEDED; color: #000000;\">0.0024</td>\n<td headers=\"stub_1_3 lower.y\" class=\"gt_row gt_right\">68.79</td>\n<td headers=\"stub_1_3 upper.y\" class=\"gt_row gt_right\">74.97</td>\n<td headers=\"stub_1_3 lower.z\" class=\"gt_row gt_right\" style=\"background-color: #EDEDED; color: #000000; font-weight: bold;\">0.08</td>\n<td headers=\"stub_1_3 upper.z\" class=\"gt_row gt_right\" style=\"background-color: #EDEDED; color: #000000; font-weight: bold;\">0.14</td></tr>\n    <tr><th id=\"stub_1_4\" scope=\"row\" class=\"gt_row gt_left gt_stub\">Teleogryllus lemur</th>\n<td headers=\"stub_1_4 lower.x\" class=\"gt_row gt_right\" style=\"background-color: #EDEDED; color: #000000;\">0.0012</td>\n<td headers=\"stub_1_4 upper.x\" class=\"gt_row gt_right\" style=\"background-color: #EDEDED; color: #000000;\">0.0029</td>\n<td headers=\"stub_1_4 lower.y\" class=\"gt_row gt_right\">68.79</td>\n<td headers=\"stub_1_4 upper.y\" class=\"gt_row gt_right\">74.97</td>\n<td headers=\"stub_1_4 lower.z\" class=\"gt_row gt_right\" style=\"background-color: #EDEDED; color: #000000; font-weight: bold;\">0.12</td>\n<td headers=\"stub_1_4 upper.z\" class=\"gt_row gt_right\" style=\"background-color: #EDEDED; color: #000000; font-weight: bold;\">0.18</td></tr>\n  </tbody>\n  \n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n\n\n# Conclusion\n\nAnd just like that, we're done! We have our final confidence intervals, and our\nassumption based on our growth rate model was correct. \n`Gryllus madagascariensis` is the winner by far! They produce a full order of\nmagnitude more meat per day than any other species.\n\nHowever, it's important to remember our limitations. Because the data were\ngenerated under controlled lab conditions, there weren't many relevant variables\nto include in the model. But now that we know which species will produce the\nmost meat per day under lab conditions, further research focusing exclusively\non `Gryllus madagascariensis` could help find the ideal conditions for\ncultivating these hearty crickets.\n\nI hope you enjoyed this analysis! Bayesian statistics doesn't get enough love,\nand I think we found exactly what we were looking for. As always, if you want\nto say thanks for my work, feel free to \n[buy me a coffee](https://buymeacoffee.com/mitchellharrison) or come say hello\nor ask questions on [my Discord server](https://discord.gg/vF6W2bdKFH)! Have\na good day, and I'll see you in the next one!",
    "supporting": [
      "crickets_files\\figure-html"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}